<!DOCTYPE html>
<html lang="cn">
<head>
        <meta charset="utf-8" />
        <title>python数据分析快速入门教程2-pandas数据结构</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">python自动化测试人工智能 </a></h1>
                <nav><ul>
                    <li><a href="/category/ce-shi.html">测试</a></li>
                    <li><a href="/category/ce-shi-kuang-jia.html">测试框架</a></li>
                    <li><a href="/category/common.html">common</a></li>
                    <li><a href="/category/ji-qi-xue-xi.html">机器学习</a></li>
                    <li><a href="/category/linux.html">linux</a></li>
                    <li><a href="/category/python.html">python</a></li>
                    <li class="active"><a href="/category/shu-ju-fen-xi.html">数据分析</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/python_pandas_crash_tutorial2.html" rel="bookmark"
           title="Permalink to python数据分析快速入门教程2-pandas数据结构">python数据分析快速入门教程2-pandas数据结构</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-03-31T09:20:00+08:00">
                Published: 六 31 三月 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/andrew.html">andrew</a>
        </address>
<p>In <a href="/category/shu-ju-fen-xi.html">数据分析</a>.</p>

</footer><!-- /.post-info -->      <p>技术支持qq群：pandas数据分析scrapy爬虫 521070358  Python数据分析pandasopencv 6089740 python自动化测试Flask 144081101</p>
<p><a href="https://github.com/china-testing/python-api-tesing/tree/master/pandas/python_data_analyse_crash_course">源码下载</a></p>
<p><a href="https://china-testing.github.io/testing_training.html">接口自动化性能测试数据分析人工智能从业专家一对一线上培训大纲</a></p>
<h3>创建数据</h3>
<p>Series和python的列表类似。DataFrame则类似值为Series的字典。</p>
<p>create.py</p>
<p>```#!python</p>
<h1>!/usr/bin/python3</h1>
<h1>-<em>- coding: utf-8 -</em>-</h1>
<h1>Author:    china-testing#126.com wechat:pythontesting qq group:630011153</h1>
<h1>CreateDate: 2018-3-13</h1>
<h1>create.py</h1>
<p>import pandas as pd</p>
<p>s = pd.Series(['banana', 42])
print(s)</p>
<p>s = pd.Series(['Wes McKinney', 'Creator of Pandas'], index=['Person', 'Who'])
print(s)</p>
<h1>注意：列名未必为执行的顺序，通常为按字母排序</h1>
<p>scientists = pd.DataFrame({
    ' Name': ['Rosaline Franklin', 'William Gosset'],
    ' Occupation': ['Chemist', 'Statistician'],
    ' Born': ['1920-07-25', '1876-06-13'],
    ' Died': ['1958-04-16', '1937-10-16'],
    ' Age': [37, 61]})
print(scientists)</p>
<h1>指定顺序</h1>
<p>scientists = pd.DataFrame(
    data={'Occupation': ['Chemist', 'Statistician'],
    'Born': ['1920-07-25', '1876-06-13'],
    'Died': ['1958-04-16', '1937-10-16'],
    'Age': [37, 61]},
    index=['Rosaline Franklin', 'William Gosset'],
    columns=['Occupation', 'Born', 'Died', 'Age'])
print(scientists)</p>
<div class="highlight"><pre><span></span>执行结果：
</pre></div>


<h1>!python</h1>
<p>$ python3 create.py 
0    banana
1        42
dtype: object
Person         Wes McKinney
Who       Creator of Pandas
dtype: object
    Age        Born        Died               Name    Occupation
0    37  1920-07-25  1958-04-16  Rosaline Franklin       Chemist
1    61  1876-06-13  1937-10-16     William Gosset  Statistician
                     Occupation        Born        Died  Age
Rosaline Franklin       Chemist  1920-07-25  1958-04-16   37
William Gosset     Statistician  1876-06-13  1937-10-16   61</p>
<div class="highlight"><pre><span></span><span class="c1">### Series</span>

<span class="s s-Atom">官方文档：http://pandas</span><span class="p">.</span><span class="s s-Atom">pydata</span><span class="p">.</span><span class="s s-Atom">org</span><span class="o">/</span><span class="s s-Atom">pandas</span><span class="o">-</span><span class="s s-Atom">docs</span><span class="o">/</span><span class="s s-Atom">stable</span><span class="o">/</span><span class="s s-Atom">generated</span><span class="o">/</span><span class="s s-Atom">pandas</span><span class="p">.</span><span class="nv">Series</span><span class="p">.</span><span class="s s-Atom">html</span>

<span class="nv">Series的属性</span>

<span class="s s-Atom">属性</span> <span class="p">|</span> <span class="nf">描述</span> 
<span class="o">:-</span><span class="s s-Atom">-------:</span><span class="p">|:-</span><span class="s s-Atom">-------:</span>
<span class="s s-Atom">loc</span> <span class="p">|</span> <span class="s s-Atom">使用索引值获取子集</span>
<span class="s s-Atom">iloc</span> <span class="p">|</span> <span class="s s-Atom">使用索引位置获取子集</span>
<span class="s s-Atom">dtype或dtypes</span> <span class="p">|</span> <span class="s s-Atom">类型</span>
<span class="nv">T</span> <span class="p">|</span> <span class="s s-Atom">转置</span>
<span class="s s-Atom">shape</span> <span class="p">|</span> <span class="s s-Atom">数据的尺寸</span>
<span class="s s-Atom">size</span> <span class="p">|</span> <span class="s s-Atom">元素的数量</span>
<span class="s s-Atom">values</span> <span class="p">|</span> <span class="s s-Atom">ndarray或类似ndarray的Series</span>


<span class="nv">Series的方法</span>

<span class="s s-Atom">方法</span> <span class="p">|</span> <span class="nf">描述</span> 
<span class="o">:-</span><span class="s s-Atom">-------:</span><span class="p">|:-</span><span class="s s-Atom">-------:</span>
<span class="s s-Atom">append</span> <span class="p">|</span> <span class="s s-Atom">连接2个或更多系列</span>
<span class="s s-Atom">corr</span> <span class="p">|</span> <span class="s s-Atom">计算与其他Series的关联</span>
<span class="s s-Atom">cov</span> <span class="p">|</span> <span class="s s-Atom">与其他Series计算协方差</span>
<span class="s s-Atom">describe</span> <span class="p">|</span> <span class="s s-Atom">计算汇总统计</span>
<span class="s s-Atom">drop</span> <span class="s s-Atom">duplicates</span> <span class="p">|</span> <span class="s s-Atom">返回一个没有重复项的Series</span>
<span class="s s-Atom">equals</span> <span class="p">|</span> <span class="nv">Series是否具有相同的元素</span>
<span class="s s-Atom">get</span> <span class="s s-Atom">values</span> <span class="p">|</span> <span class="s s-Atom">获取Series的值，与values属性相同</span>
<span class="s s-Atom">hist</span> <span class="p">|</span> <span class="s s-Atom">绘制直方图</span>
<span class="s s-Atom">min</span> <span class="p">|</span> <span class="s s-Atom">返回最小值</span>
<span class="s s-Atom">max</span> <span class="p">|</span> <span class="s s-Atom">返回最大值</span>
<span class="s s-Atom">mean</span> <span class="p">|</span> <span class="s s-Atom">返回算术平均值</span>
<span class="s s-Atom">median</span> <span class="p">|</span> <span class="s s-Atom">返回中位数</span>
<span class="s s-Atom">模式</span> <span class="p">|</span> <span class="nf">返回mode</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span>
<span class="s s-Atom">分位数</span> <span class="p">|</span> <span class="s s-Atom">返回给定分位数的值</span>
<span class="s s-Atom">replace</span> <span class="p">|</span> <span class="s s-Atom">用指定值替换系列中的值</span>
<span class="s s-Atom">sample</span> <span class="p">|</span> <span class="s s-Atom">返回Series中值的随机样本</span>
<span class="s s-Atom">sort</span> <span class="s s-Atom">values</span>  <span class="p">|</span> <span class="s s-Atom">排序</span>
<span class="s s-Atom">to</span> <span class="s s-Atom">frame</span> <span class="p">|</span> <span class="s s-Atom">转换为数据帧</span>
<span class="s s-Atom">transpose</span> <span class="p">|</span> <span class="s s-Atom">返回转置</span>
<span class="s s-Atom">unique</span> <span class="p">|</span> <span class="s s-Atom">返回numpy</span><span class="p">.</span><span class="s s-Atom">ndarray唯一值</span>


<span class="s s-Atom">series</span><span class="p">.</span><span class="s s-Atom">py</span>
</pre></div>


<h1>!python</h1>
<h1>!/usr/bin/python3</h1>
<h1>-<em>- coding: utf-8 -</em>-</h1>
<h1>Author:    china-testing#126.com wechat:pythontesting qq group:630011153</h1>
<h1>CreateDate: 2018-3-14</h1>
<h1>series.py</h1>
<p>import pandas as pd
import numpy as np</p>
<p>scientists = pd.DataFrame(
    data={'Occupation': ['Chemist', 'Statistician'],
    'Born': ['1920-07-25', '1876-06-13'],
    'Died': ['1958-04-16', '1937-10-16'],
    'Age': [37, 61]},
    index=['Rosaline Franklin', 'William Gosset'],
    columns=['Occupation', 'Born', 'Died', 'Age'])
print(scientists)</p>
<h1>从数据帧(DataFrame)获取的行或者列为Series</h1>
<p>first_row = scientists.loc['William Gosset']
print(type(first_row))
print(first_row)</p>
<h1>index和keys是一样的</h1>
<p>print(first_row.index)
print(first_row.keys())
print(first_row.values)</p>
<p>print(first_row.index[0])
print(first_row.keys()[0])</p>
<h1>Pandas.Series和numpy.ndarray很类似</h1>
<p>ages = scientists['Age']
print(ages)</p>
<h1>统计，更多参考http://pandas.pydata.org/pandas-docs/stable/basics.html#descriptive-statistics</h1>
<p>print(ages.mean())
print(ages.min())
print(ages.max())
print(ages.std())</p>
<p>scientists = pd.read_csv('../data/scientists.csv')
ages = scientists['Age']
print(ages)
print(ages.mean())
print(ages.describe())
print(ages[ages &gt; ages.mean()])
print(ages &gt; ages.mean())
manual_bool_values = [True, True, False, False, True, True, False, False]
print(ages[manual_bool_values])</p>
<p>print(ages + ages)
print(ages * ages)
print(ages + 100)
print(ages * 2)
print(ages + pd.Series([1, 100]))</p>
<h1>print(ages + np.array([1, 100])) 会报错，不同类型相加，大小一定要一样</h1>
<p>print(ages + np.array([1, 100, 1, 100, 1, 100, 1, 100]))</p>
<h1>排序： 默认有自动排序</h1>
<p>print(ages)
rev_ages = ages.sort_index(ascending=False)
print(rev_ages)
print(ages * 2)
print(ages + rev_ages)</p>
<div class="highlight"><pre><span></span>执行结果
</pre></div>


<h1>!python</h1>
<p>$ python3 series.py 
                     Occupation        Born        Died  Age
Rosaline Franklin       Chemist  1920-07-25  1958-04-16   37
William Gosset     Statistician  1876-06-13  1937-10-16   61
<class 'pandas.core.series.Series'>
Occupation    Statistician
Born            1876-06-13
Died            1937-10-16
Age                     61
Name: William Gosset, dtype: object
Index(['Occupation', 'Born', 'Died', 'Age'], dtype='object')
Index(['Occupation', 'Born', 'Died', 'Age'], dtype='object')
['Statistician' '1876-06-13' '1937-10-16' 61]
Occupation
Occupation
Rosaline Franklin    37
William Gosset       61
Name: Age, dtype: int64
49.0
37
61
16.97056274847714
0    37
1    61
2    90
3    66
4    56
5    45
6    41
7    77
Name: Age, dtype: int64
59.125
count     8.000000
mean     59.125000
std      18.325918
min      37.000000
25%      44.000000
50%      58.500000
75%      68.750000
max      90.000000
Name: Age, dtype: float64
1    61
2    90
3    66
7    77
Name: Age, dtype: int64
0    False
1     True
2     True
3     True
4    False
5    False
6    False
7     True
Name: Age, dtype: bool
0    37
1    61
4    56
5    45
Name: Age, dtype: int64
0     74
1    122
2    180
3    132
4    112
5     90
6     82
7    154
Name: Age, dtype: int64
0    1369
1    3721
2    8100
3    4356
4    3136
5    2025
6    1681
7    5929
Name: Age, dtype: int64
0    137
1    161
2    190
3    166
4    156
5    145
6    141
7    177
Name: Age, dtype: int64
0     74
1    122
2    180
3    132
4    112
5     90
6     82
7    154
Name: Age, dtype: int64
0     38.0
1    161.0
2      NaN
3      NaN
4      NaN
5      NaN
6      NaN
7      NaN
dtype: float64
0     38
1    161
2     91
3    166
4     57
5    145
6     42
7    177
Name: Age, dtype: int64
0    37
1    61
2    90
3    66
4    56
5    45
6    41
7    77
Name: Age, dtype: int64
7    77
6    41
5    45
4    56
3    66
2    90
1    61
0    37
Name: Age, dtype: int64
0     74
1    122
2    180
3    132
4    112
5     90
6     82
7    154
Name: Age, dtype: int64
0     74
1    122
2    180
3    132
4    112
5     90
6     82
7    154
Name: Age, dtype: int64</p>
<div class="highlight"><pre><span></span><span class="c1">### 数据帧(DataFrame)</span>

<span class="nv">DataFrame是最常见的Pandas对象</span><span class="p">,</span><span class="s s-Atom">可认为是Python存储类似电子表格的数据的方式。</span><span class="nv">Series多常见功能都包含在DataFrame中</span><span class="s s-Atom">。</span>

<span class="s s-Atom">子集的方法</span>

<span class="s s-Atom">注意ix现在已经不推荐使用。</span>

<span class="nv">DataFrame常用的索引操作有</span><span class="s s-Atom">：</span>

<span class="s s-Atom">方式</span> <span class="p">|</span> <span class="nf">描述</span> 
<span class="o">:-</span><span class="s s-Atom">-------:</span><span class="p">|:-</span><span class="s s-Atom">-------:</span>
<span class="s s-Atom">df</span><span class="p">[</span><span class="s s-Atom">val</span><span class="p">]</span> <span class="p">|</span> <span class="s s-Atom">选择单个列</span> <span class="p">|</span> 
<span class="s s-Atom">df</span> <span class="p">[[</span> <span class="s s-Atom">column1</span><span class="p">,</span> <span class="s s-Atom">column2</span><span class="p">,</span> <span class="p">...</span> <span class="p">]]</span> <span class="p">|</span> <span class="s s-Atom">选择多个列</span> <span class="p">|</span> 
<span class="s s-Atom">df</span><span class="p">.</span><span class="s s-Atom">loc</span><span class="p">[</span><span class="s s-Atom">val</span><span class="p">]</span> <span class="p">|</span> <span class="s s-Atom">选择行</span> <span class="p">|</span>
<span class="s s-Atom">df</span><span class="p">.</span> <span class="s s-Atom">loc</span> <span class="p">[[</span> <span class="s s-Atom">label1</span> <span class="p">,</span> <span class="s s-Atom">label2</span> <span class="p">,...]]</span> <span class="p">|</span> <span class="s s-Atom">选择多行</span> <span class="p">|</span>
<span class="s s-Atom">df</span><span class="p">.</span><span class="s s-Atom">loc</span><span class="p">[</span><span class="s s-Atom">:</span><span class="p">,</span> <span class="s s-Atom">val</span><span class="p">]</span> <span class="p">|</span> <span class="s s-Atom">基于行index选择列</span> <span class="p">|</span>
<span class="s s-Atom">df</span><span class="p">.</span><span class="s s-Atom">loc</span><span class="p">[</span><span class="s s-Atom">val1</span><span class="p">,</span> <span class="s s-Atom">val2</span><span class="p">]</span> <span class="p">|</span> <span class="s s-Atom">选择行列</span> <span class="p">|</span>
<span class="s s-Atom">df</span><span class="p">.</span><span class="s s-Atom">iloc</span><span class="p">[</span><span class="s s-Atom">row</span> <span class="s s-Atom">number</span><span class="p">]</span> <span class="p">|</span> <span class="s s-Atom">基于行数选择行</span> <span class="p">|</span>
<span class="s s-Atom">df</span><span class="p">.</span> <span class="s s-Atom">iloc</span> <span class="p">[[</span> <span class="s s-Atom">row1</span><span class="p">,</span> <span class="s s-Atom">row2</span><span class="p">,</span> <span class="p">...]]</span> <span class="nv">Multiple</span> <span class="s s-Atom">rows</span> <span class="s s-Atom">by</span> <span class="s s-Atom">row</span> <span class="s s-Atom">number</span> <span class="p">|</span> <span class="s s-Atom">基于行数选择多行</span> <span class="p">|</span>
<span class="s s-Atom">df</span><span class="p">.</span><span class="s s-Atom">iloc</span><span class="p">[</span><span class="s s-Atom">:</span><span class="p">,</span> <span class="s s-Atom">where</span><span class="p">]</span> <span class="p">|</span> <span class="s s-Atom">选择列</span> <span class="p">|</span>
<span class="s s-Atom">df</span><span class="p">.</span><span class="s s-Atom">iloc</span><span class="p">[</span><span class="s s-Atom">where_i</span><span class="p">,</span> <span class="s s-Atom">where_j</span><span class="p">]</span> <span class="p">|</span> <span class="s s-Atom">选择行列</span> <span class="p">|</span>
<span class="s s-Atom">df</span><span class="p">.</span><span class="s s-Atom">at</span><span class="p">[</span><span class="s s-Atom">label_i</span><span class="p">,</span> <span class="s s-Atom">label_j</span><span class="p">]</span> <span class="p">|</span> <span class="s s-Atom">选择值</span> <span class="p">|</span>
<span class="s s-Atom">df</span><span class="p">.</span><span class="s s-Atom">iat</span><span class="p">[</span><span class="s s-Atom">i</span><span class="p">,</span> <span class="s s-Atom">j</span><span class="p">]</span> <span class="p">|</span> <span class="s s-Atom">选择值</span> <span class="p">|</span>
<span class="s s-Atom">reindex</span> <span class="s s-Atom">method</span> <span class="p">|</span> <span class="s s-Atom">通过label选择多行或列</span> <span class="p">|</span>
<span class="s s-Atom">get_value</span><span class="p">,</span> <span class="s s-Atom">set_value</span> <span class="p">|</span> <span class="s s-Atom">通过label选择耽搁行或列</span> 
<span class="s s-Atom">df</span><span class="p">[</span><span class="s s-Atom">bool</span><span class="p">]</span> <span class="p">|</span> <span class="s s-Atom">选择行</span>
<span class="s s-Atom">df</span> <span class="p">[[</span> <span class="s s-Atom">bool1</span><span class="p">,</span> <span class="s s-Atom">bool2</span><span class="p">,</span> <span class="p">...]]</span> <span class="p">|</span> <span class="s s-Atom">选择行</span>
<span class="s s-Atom">df</span><span class="p">[</span> <span class="s s-Atom">start</span> <span class="s s-Atom">:</span><span class="nn">stop</span><span class="p">:</span> <span class="s s-Atom">step</span> <span class="p">]</span> <span class="p">|</span> <span class="s s-Atom">基于行数选择行</span>
</pre></div>


<h1>!python</h1>
<h1>!/usr/bin/python3</h1>
<h1>-<em>- coding: utf-8 -</em>-</h1>
<h1>Author:    china-testing#126.com wechat:pythontesting qq group:630011153</h1>
<h1>CreateDate: 2018-3-31</h1>
<h1>df.py</h1>
<p>import pandas as pd
import numpy as np</p>
<p>scientists = pd.read_csv('../data/scientists.csv')
print(scientists[scientists['Age'] &gt; scientists['Age'].mean()])
first_half = scientists[: 4]
second_half = scientists[ 4 :]
print(first_half)
print(second_half)
print(first_half + second_half)
print(scientists * 2)</p>
<div class="highlight"><pre><span></span>执行结果
</pre></div>


<h1>!python</h1>
<h1>!/usr/bin/python3</h1>
<h1>-<em>- coding: utf-8 -</em>-</h1>
<h1>Author:    china-testing#126.com wechat:pythontesting qq group:630011153</h1>
<h1>CreateDate: 2018-3-31</h1>
<h1>df.py</h1>
<p>import pandas as pd
import numpy as np</p>
<p>scientists = pd.read_csv('../data/scientists.csv')
print(scientists[scientists['Age'] &gt; scientists['Age'].mean()])
first_half = scientists[: 4]
second_half = scientists[ 4 :]
print(first_half)
print(second_half)
print(first_half + second_half)
print(scientists * 2)</p>
<div class="highlight"><pre><span></span>执行结果
</pre></div>


<h1>!python</h1>
<p>$ python3 df.py 
                   Name        Born        Died  Age     Occupation
1        William Gosset  1876-06-13  1937-10-16   61   Statistician
2  Florence Nightingale  1820-05-12  1910-08-13   90          Nurse
3           Marie Curie  1867-11-07  1934-07-04   66        Chemist
7          Johann Gauss  1777-04-30  1855-02-23   77  Mathematician
                   Name        Born        Died  Age    Occupation
0     Rosaline Franklin  1920-07-25  1958-04-16   37       Chemist
1        William Gosset  1876-06-13  1937-10-16   61  Statistician
2  Florence Nightingale  1820-05-12  1910-08-13   90         Nurse
3           Marie Curie  1867-11-07  1934-07-04   66       Chemist
            Name        Born        Died  Age          Occupation
4  Rachel Carson  1907-05-27  1964-04-14   56           Biologist
5      John Snow  1813-03-15  1858-06-16   45           Physician
6    Alan Turing  1912-06-23  1954-06-07   41  Computer Scientist
7   Johann Gauss  1777-04-30  1855-02-23   77       Mathematician
  Name Born Died  Age Occupation
0  NaN  NaN  NaN  NaN        NaN
1  NaN  NaN  NaN  NaN        NaN
2  NaN  NaN  NaN  NaN        NaN
3  NaN  NaN  NaN  NaN        NaN
4  NaN  NaN  NaN  NaN        NaN
5  NaN  NaN  NaN  NaN        NaN
6  NaN  NaN  NaN  NaN        NaN
7  NaN  NaN  NaN  NaN        NaN
                                       Name                  Born  \
0        Rosaline FranklinRosaline Franklin  1920-07-251920-07-25 <br>
1              William GossetWilliam Gosset  1876-06-131876-06-13 <br>
2  Florence NightingaleFlorence Nightingale  1820-05-121820-05-12 <br>
3                    Marie CurieMarie Curie  1867-11-071867-11-07 <br>
4                Rachel CarsonRachel Carson  1907-05-271907-05-27 <br>
5                        John SnowJohn Snow  1813-03-151813-03-15 <br>
6                    Alan TuringAlan Turing  1912-06-231912-06-23 <br>
7                  Johann GaussJohann Gauss  1777-04-301777-04-30   </p>
<div class="highlight"><pre><span></span>               Died  Age                            Occupation
</pre></div>


<p>0  1958-04-161958-04-16   74                        ChemistChemist<br>
1  1937-10-161937-10-16  122              StatisticianStatistician<br>
2  1910-08-131910-08-13  180                            NurseNurse<br>
3  1934-07-041934-07-04  132                        ChemistChemist<br>
4  1964-04-141964-04-14  112                    BiologistBiologist<br>
5  1858-06-161858-06-16   90                    PhysicianPhysician<br>
6  1954-06-071954-06-07   82  Computer ScientistComputer Scientist<br>
7  1855-02-231855-02-23  154            MathematicianMathematician  </p>
<div class="highlight"><pre><span></span><span class="c1">### 修改列</span>

    <span class="p">:::</span><span class="n">python</span>
    <span class="c1">#!/usr/bin/python3</span>
    <span class="c1"># -*- coding: utf-8 -*-</span>
    <span class="c1"># Author:    china-testing#126.com wechat:pythontesting qq group:630011153</span>
    <span class="c1"># CreateDate: 2018-3-31</span>
    <span class="c1"># change.py</span>

    <span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
    <span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
    <span class="kn">import</span> <span class="nn">random</span>

    <span class="n">scientists</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/scientists.csv&#39;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">scientists</span><span class="p">[</span><span class="s1">&#39;Born&#39;</span><span class="p">]</span><span class="o">.</span><span class="kp">dtype</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">scientists</span><span class="p">[</span><span class="s1">&#39;Died&#39;</span><span class="p">]</span><span class="o">.</span><span class="kp">dtype</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">scientists</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

    <span class="c1"># 转为日期 参考：https://docs.python.org/3.5/library/datetime.html</span>
    <span class="n">born_datetime</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">scientists</span><span class="p">[</span><span class="s1">&#39;Born&#39;</span><span class="p">],</span> <span class="n">format</span><span class="o">=</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">died_datetime</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">scientists</span><span class="p">[</span><span class="s1">&#39;Died&#39;</span><span class="p">],</span> <span class="n">format</span><span class="o">=</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="c1"># 增加列</span>
    <span class="n">scientists</span><span class="p">[</span><span class="s1">&#39;born_dt&#39;</span><span class="p">],</span> <span class="n">scientists</span><span class="p">[</span><span class="s1">&#39;died_dt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">born_datetime</span><span class="p">,</span> <span class="n">died_datetime</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">scientists</span><span class="o">.</span><span class="kp">shape</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">scientists</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

    <span class="n">random</span><span class="o">.</span><span class="kp">seed</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
    <span class="n">random</span><span class="o">.</span><span class="kp">shuffle</span><span class="p">(</span><span class="n">scientists</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">])</span> <span class="c1"># 此修改会作用于scientists</span>
    <span class="k">print</span><span class="p">(</span><span class="n">scientists</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

    <span class="n">scientists</span><span class="p">[</span><span class="s1">&#39;age_days_dt&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">scientists</span><span class="p">[</span><span class="s1">&#39;died_dt&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">scientists</span><span class="p">[</span><span class="s1">&#39;born_dt&#39;</span><span class="p">])</span>
    <span class="k">print</span><span class="p">(</span><span class="n">scientists</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>

<span class="err">执行结果：</span>


    <span class="p">:::</span><span class="n">python</span>
    <span class="err">$</span> <span class="n">python3</span> <span class="n">change</span><span class="o">.</span><span class="n">py</span> 
    <span class="nb">object</span>
    <span class="nb">object</span>
                       <span class="n">Name</span>        <span class="n">Born</span>        <span class="n">Died</span>  <span class="n">Age</span>    <span class="n">Occupation</span>
    <span class="mi">0</span>     <span class="n">Rosaline</span> <span class="n">Franklin</span>  <span class="mi">1920</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">25</span>  <span class="mi">1958</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">16</span>   <span class="mi">37</span>       <span class="n">Chemist</span>
    <span class="mi">1</span>        <span class="n">William</span> <span class="n">Gosset</span>  <span class="mi">1876</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">13</span>  <span class="mi">1937</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">16</span>   <span class="mi">61</span>  <span class="n">Statistician</span>
    <span class="mi">2</span>  <span class="n">Florence</span> <span class="n">Nightingale</span>  <span class="mi">1820</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">12</span>  <span class="mi">1910</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">13</span>   <span class="mi">90</span>         <span class="n">Nurse</span>
    <span class="mi">3</span>           <span class="n">Marie</span> <span class="n">Curie</span>  <span class="mi">1867</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mo">07</span>  <span class="mi">1934</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mo">04</span>   <span class="mi">66</span>       <span class="n">Chemist</span>
    <span class="mi">4</span>         <span class="n">Rachel</span> <span class="n">Carson</span>  <span class="mi">1907</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">27</span>  <span class="mi">1964</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">14</span>   <span class="mi">56</span>     <span class="n">Biologist</span>
    <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
                       <span class="n">Name</span>        <span class="n">Born</span>        <span class="n">Died</span>  <span class="n">Age</span>    <span class="n">Occupation</span>    <span class="n">born_dt</span>  \
    <span class="mi">0</span>     <span class="n">Rosaline</span> <span class="n">Franklin</span>  <span class="mi">1920</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">25</span>  <span class="mi">1958</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">16</span>   <span class="mi">37</span>       <span class="n">Chemist</span> <span class="mi">1920</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">25</span>   
    <span class="mi">1</span>        <span class="n">William</span> <span class="n">Gosset</span>  <span class="mi">1876</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">13</span>  <span class="mi">1937</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">16</span>   <span class="mi">61</span>  <span class="n">Statistician</span> <span class="mi">1876</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">13</span>   
    <span class="mi">2</span>  <span class="n">Florence</span> <span class="n">Nightingale</span>  <span class="mi">1820</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">12</span>  <span class="mi">1910</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">13</span>   <span class="mi">90</span>         <span class="n">Nurse</span> <span class="mi">1820</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">12</span>   
    <span class="mi">3</span>           <span class="n">Marie</span> <span class="n">Curie</span>  <span class="mi">1867</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mo">07</span>  <span class="mi">1934</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mo">04</span>   <span class="mi">66</span>       <span class="n">Chemist</span> <span class="mi">1867</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mo">07</span>   
    <span class="mi">4</span>         <span class="n">Rachel</span> <span class="n">Carson</span>  <span class="mi">1907</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">27</span>  <span class="mi">1964</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">14</span>   <span class="mi">56</span>     <span class="n">Biologist</span> <span class="mi">1907</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">27</span>   

         <span class="n">died_dt</span>  
    <span class="mi">0</span> <span class="mi">1958</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">16</span>  
    <span class="mi">1</span> <span class="mi">1937</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">16</span>  
    <span class="mi">2</span> <span class="mi">1910</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">13</span>  
    <span class="mi">3</span> <span class="mi">1934</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mo">04</span>  
    <span class="mi">4</span> <span class="mi">1964</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">14</span>  
    <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="o">.</span><span class="mi">5</span><span class="o">/</span><span class="n">random</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">272</span><span class="p">:</span> <span class="n">SettingWithCopyWarning</span><span class="p">:</span> 
    <span class="n">A</span> <span class="n">value</span> <span class="ow">is</span> <span class="n">trying</span> <span class="n">to</span> <span class="n">be</span> <span class="nb">set</span> <span class="n">on</span> <span class="n">a</span> <span class="kp">copy</span> <span class="n">of</span> <span class="n">a</span> <span class="nb">slice</span> <span class="kn">from</span> <span class="nn">a</span> <span class="nn">DataFrame</span>

    <span class="n">See</span> <span class="n">the</span> <span class="n">caveats</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">documentation</span><span class="p">:</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">pandas</span><span class="o">.</span><span class="n">pydata</span><span class="o">.</span><span class="n">org</span><span class="o">/</span><span class="n">pandas</span><span class="o">-</span><span class="n">docs</span><span class="o">/</span><span class="n">stable</span><span class="o">/</span><span class="n">indexing</span><span class="o">.</span><span class="n">html</span><span class="c1">#indexing-view-versus-copy</span>
      <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">x</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                       <span class="n">Name</span>        <span class="n">Born</span>        <span class="n">Died</span>  <span class="n">Age</span>    <span class="n">Occupation</span>    <span class="n">born_dt</span>  \
    <span class="mi">0</span>     <span class="n">Rosaline</span> <span class="n">Franklin</span>  <span class="mi">1920</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">25</span>  <span class="mi">1958</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">16</span>   <span class="mi">66</span>       <span class="n">Chemist</span> <span class="mi">1920</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">25</span>   
    <span class="mi">1</span>        <span class="n">William</span> <span class="n">Gosset</span>  <span class="mi">1876</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">13</span>  <span class="mi">1937</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">16</span>   <span class="mi">56</span>  <span class="n">Statistician</span> <span class="mi">1876</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">13</span>   
    <span class="mi">2</span>  <span class="n">Florence</span> <span class="n">Nightingale</span>  <span class="mi">1820</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">12</span>  <span class="mi">1910</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">13</span>   <span class="mi">41</span>         <span class="n">Nurse</span> <span class="mi">1820</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">12</span>   
    <span class="mi">3</span>           <span class="n">Marie</span> <span class="n">Curie</span>  <span class="mi">1867</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mo">07</span>  <span class="mi">1934</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mo">04</span>   <span class="mi">77</span>       <span class="n">Chemist</span> <span class="mi">1867</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mo">07</span>   
    <span class="mi">4</span>         <span class="n">Rachel</span> <span class="n">Carson</span>  <span class="mi">1907</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">27</span>  <span class="mi">1964</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">14</span>   <span class="mi">90</span>     <span class="n">Biologist</span> <span class="mi">1907</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">27</span>   

         <span class="n">died_dt</span>  
    <span class="mi">0</span> <span class="mi">1958</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">16</span>  
    <span class="mi">1</span> <span class="mi">1937</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">16</span>  
    <span class="mi">2</span> <span class="mi">1910</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">13</span>  
    <span class="mi">3</span> <span class="mi">1934</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mo">04</span>  
    <span class="mi">4</span> <span class="mi">1964</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">14</span>  
                       <span class="n">Name</span>        <span class="n">Born</span>        <span class="n">Died</span>  <span class="n">Age</span>    <span class="n">Occupation</span>    <span class="n">born_dt</span>  \
    <span class="mi">0</span>     <span class="n">Rosaline</span> <span class="n">Franklin</span>  <span class="mi">1920</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">25</span>  <span class="mi">1958</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">16</span>   <span class="mi">66</span>       <span class="n">Chemist</span> <span class="mi">1920</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">25</span>   
    <span class="mi">1</span>        <span class="n">William</span> <span class="n">Gosset</span>  <span class="mi">1876</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">13</span>  <span class="mi">1937</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">16</span>   <span class="mi">56</span>  <span class="n">Statistician</span> <span class="mi">1876</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">13</span>   
    <span class="mi">2</span>  <span class="n">Florence</span> <span class="n">Nightingale</span>  <span class="mi">1820</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">12</span>  <span class="mi">1910</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">13</span>   <span class="mi">41</span>         <span class="n">Nurse</span> <span class="mi">1820</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">12</span>   
    <span class="mi">3</span>           <span class="n">Marie</span> <span class="n">Curie</span>  <span class="mi">1867</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mo">07</span>  <span class="mi">1934</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mo">04</span>   <span class="mi">77</span>       <span class="n">Chemist</span> <span class="mi">1867</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mo">07</span>   
    <span class="mi">4</span>         <span class="n">Rachel</span> <span class="n">Carson</span>  <span class="mi">1907</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">27</span>  <span class="mi">1964</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">14</span>   <span class="mi">90</span>     <span class="n">Biologist</span> <span class="mi">1907</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">27</span>   

         <span class="n">died_dt</span> <span class="n">age_days_dt</span>  
    <span class="mi">0</span> <span class="mi">1958</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">16</span>  <span class="mi">13779</span> <span class="n">days</span>  
    <span class="mi">1</span> <span class="mi">1937</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">16</span>  <span class="mi">22404</span> <span class="n">days</span>  
    <span class="mi">2</span> <span class="mi">1910</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">13</span>  <span class="mi">32964</span> <span class="n">days</span>  
    <span class="mi">3</span> <span class="mi">1934</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mo">04</span>  <span class="mi">24345</span> <span class="n">days</span>  
    <span class="mi">4</span> <span class="mi">1964</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">14</span>  <span class="mi">20777</span> <span class="n">days</span>  

<span class="c1">### 数据导入导出  </span>

<span class="n">out</span><span class="o">.</span><span class="n">py</span>

    <span class="p">:::</span><span class="n">python</span>
    <span class="c1">#!/usr/bin/python3</span>
    <span class="c1"># -*- coding: utf-8 -*-</span>
    <span class="c1"># Author:    china-testing#126.com wechat:pythontesting qq群:630011153</span>
    <span class="c1"># CreateDate: 2018-3-31</span>
    <span class="c1"># out.py</span>

    <span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span>
    <span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
    <span class="kn">import</span> <span class="nn">random</span>
    <span class="n">scientists</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/scientists.csv&#39;</span><span class="p">)</span>

    <span class="n">names</span> <span class="o">=</span> <span class="n">scientists</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span>
    <span class="k">print</span><span class="p">(</span><span class="n">names</span><span class="p">)</span>
    <span class="n">names</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;../output/scientists_names_series.pickle&#39;</span><span class="p">)</span>
    <span class="n">scientists</span><span class="o">.</span><span class="n">to_pickle</span><span class="p">(</span><span class="s1">&#39;../output/scientists_df.pickle&#39;</span><span class="p">)</span>

    <span class="c1"># .p, .pkl,  .pickle 是常用的pickle文件扩展名</span>
    <span class="n">scientist_names_from_pickle</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_pickle</span><span class="p">(</span><span class="s1">&#39;../output/scientists_df.pickle&#39;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">scientist_names_from_pickle</span><span class="p">)</span>

    <span class="n">names</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;../output/scientist_names_series.csv&#39;</span><span class="p">)</span>
    <span class="n">scientists</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;../output/scientists_df.tsv&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;</span><span class="se">\t</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="c1"># 不输出行号</span>
    <span class="n">scientists</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;../output/scientists_df_no_index.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

    <span class="c1"># Series可以转为df再输出成excel文件</span>
    <span class="n">names_df</span> <span class="o">=</span> <span class="n">names</span><span class="o">.</span><span class="n">to_frame</span><span class="p">()</span>
    <span class="n">names_df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s1">&#39;../output/scientists_names_series_df.xls&#39;</span><span class="p">)</span>
    <span class="n">names_df</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s1">&#39;../output/scientists_names_series_df.xlsx&#39;</span><span class="p">)</span>

    <span class="n">scientists</span><span class="o">.</span><span class="n">to_excel</span><span class="p">(</span><span class="s1">&#39;../output/scientists_df.xlsx&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s1">&#39;scientists&#39;</span><span class="p">,</span>
                        <span class="n">index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

<span class="err">执行结果：</span>
    <span class="p">:::</span><span class="n">python</span>
    <span class="err">$</span> <span class="n">python3</span> <span class="n">out</span><span class="o">.</span><span class="n">py</span> 
    <span class="mi">0</span>       <span class="n">Rosaline</span> <span class="n">Franklin</span>
    <span class="mi">1</span>          <span class="n">William</span> <span class="n">Gosset</span>
    <span class="mi">2</span>    <span class="n">Florence</span> <span class="n">Nightingale</span>
    <span class="mi">3</span>             <span class="n">Marie</span> <span class="n">Curie</span>
    <span class="mi">4</span>           <span class="n">Rachel</span> <span class="n">Carson</span>
    <span class="mi">5</span>               <span class="n">John</span> <span class="n">Snow</span>
    <span class="mi">6</span>             <span class="n">Alan</span> <span class="n">Turing</span>
    <span class="mi">7</span>            <span class="n">Johann</span> <span class="n">Gauss</span>
    <span class="n">Name</span><span class="p">:</span> <span class="n">Name</span><span class="p">,</span> <span class="kp">dtype</span><span class="p">:</span> <span class="nb">object</span>
                       <span class="n">Name</span>        <span class="n">Born</span>        <span class="n">Died</span>  <span class="n">Age</span>          <span class="n">Occupation</span>
    <span class="mi">0</span>     <span class="n">Rosaline</span> <span class="n">Franklin</span>  <span class="mi">1920</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mi">25</span>  <span class="mi">1958</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">16</span>   <span class="mi">37</span>             <span class="n">Chemist</span>
    <span class="mi">1</span>        <span class="n">William</span> <span class="n">Gosset</span>  <span class="mi">1876</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">13</span>  <span class="mi">1937</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">16</span>   <span class="mi">61</span>        <span class="n">Statistician</span>
    <span class="mi">2</span>  <span class="n">Florence</span> <span class="n">Nightingale</span>  <span class="mi">1820</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">12</span>  <span class="mi">1910</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">13</span>   <span class="mi">90</span>               <span class="n">Nurse</span>
    <span class="mi">3</span>           <span class="n">Marie</span> <span class="n">Curie</span>  <span class="mi">1867</span><span class="o">-</span><span class="mi">11</span><span class="o">-</span><span class="mo">07</span>  <span class="mi">1934</span><span class="o">-</span><span class="mo">07</span><span class="o">-</span><span class="mo">04</span>   <span class="mi">66</span>             <span class="n">Chemist</span>
    <span class="mi">4</span>         <span class="n">Rachel</span> <span class="n">Carson</span>  <span class="mi">1907</span><span class="o">-</span><span class="mo">05</span><span class="o">-</span><span class="mi">27</span>  <span class="mi">1964</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">14</span>   <span class="mi">56</span>           <span class="n">Biologist</span>
    <span class="mi">5</span>             <span class="n">John</span> <span class="n">Snow</span>  <span class="mi">1813</span><span class="o">-</span><span class="mo">03</span><span class="o">-</span><span class="mi">15</span>  <span class="mi">1858</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">16</span>   <span class="mi">45</span>           <span class="n">Physician</span>
    <span class="mi">6</span>           <span class="n">Alan</span> <span class="n">Turing</span>  <span class="mi">1912</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">23</span>  <span class="mi">1954</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mo">07</span>   <span class="mi">41</span>  <span class="n">Computer</span> <span class="n">Scientist</span>
    <span class="mi">7</span>          <span class="n">Johann</span> <span class="n">Gauss</span>  <span class="mi">1777</span><span class="o">-</span><span class="mo">04</span><span class="o">-</span><span class="mi">30</span>  <span class="mi">1855</span><span class="o">-</span><span class="mo">02</span><span class="o">-</span><span class="mi">23</span>   <span class="mi">77</span>       <span class="n">Mathematician</span>


<span class="err">更多的输入输出方法：</span>

<span class="err">方式</span> <span class="o">|</span> <span class="err">描述</span> 
<span class="p">:</span><span class="o">--------</span><span class="p">:</span><span class="o">|</span><span class="p">:</span><span class="o">--------</span><span class="p">:</span>
<span class="n">to_clipboard</span> <span class="o">|</span><span class="err">将数据保存到系统剪贴板进行粘贴</span>
<span class="n">to_dense</span> <span class="o">|</span> <span class="err">将数据转换为常规“密集”</span><span class="n">DataFrame</span>
<span class="n">to_dict</span> <span class="o">|</span> <span class="err">将数据转换为</span><span class="n">Python字典</span>
<span class="n">to_gbq</span> <span class="o">|</span> <span class="err">将数据转换为</span><span class="n">Google</span> <span class="n">BigQuery表格</span>
<span class="n">toJidf</span> <span class="o">|</span> <span class="err">将数据保存为分层数据格式（</span><span class="n">HDF</span><span class="err">）</span>
<span class="n">to_msgpack</span> <span class="o">|</span> <span class="err">将数据保存到可移植的类似</span><span class="n">JSON的二进制文件中</span>
<span class="n">toJitml</span> <span class="o">|</span> <span class="err">将数据转换为</span><span class="n">HTML表格</span>
<span class="n">tojson</span> <span class="o">|</span> <span class="err">将数据转换为</span><span class="n">JSON字符串</span>
<span class="n">toJatex</span> <span class="o">|</span> <span class="err">将数据转换为</span><span class="n">LTEXtabular环境</span>
<span class="n">to_records</span> <span class="o">|</span> <span class="err">将数据转换为记录数组</span>
<span class="n">to_string</span> <span class="o">|</span> <span class="err">将</span><span class="n">DataFrame显示为stdout的字符串</span>
<span class="n">to_sparse</span> <span class="o">|</span> <span class="err">将数据转换为</span><span class="n">SparceDataFrame</span>
<span class="n">to_sql</span> <span class="o">|</span> <span class="err">将数据保存到</span><span class="n">SQL数据库中</span>
<span class="n">to_stata</span> <span class="o">|</span> <span class="err">将数据转换为</span><span class="n">Stata</span> <span class="n">dta文件</span>    


 <span class="o">*</span> <span class="err">读</span><span class="n">CSV文件</span>

<span class="n">read_csv</span><span class="o">.</span><span class="n">py</span>
</pre></div>


<h1>!python</h1>
<h1>!/usr/bin/python3</h1>
<h1>-<em>- coding: utf-8 -</em>-</h1>
<h1>Author:    china-testing#126.com wechat:pythontesting QQ群:630011153</h1>
<h1>CreateDate: 2018-3-9</h1>
<h1>read_csv.py</h1>
<p>import pandas as pd</p>
<p>df = pd.read_csv("1.csv", header=None) # 不读取列名
print("df:")
print(df)</p>
<p>print("df.head():")
print(df.head()) # head(self, n=5)，默认为5行，类似的有tail
print("df.tail():")
print(df.tail())</p>
<p>df = pd.read_csv("1.csv") # 默认读取列名
print("df:")
print(df)</p>
<p>df = pd.read_csv("1.csv", names=['号码','群号']) # 自定义列名
print("df:")
print(df)</p>
<h1>自定义列名，去掉第一行</h1>
<p>df = pd.read_csv("1.csv", skiprows=[0], names=['号码','群号'])
print("df:")
print(df)</p>
<div class="highlight"><pre><span></span>执行结果：
</pre></div>


<h1>!python</h1>
<p>df:
           0          1
0         qq    qqgroup
1   37391319  144081101
2   37391320  144081102
3   37391321  144081103
4   37391322  144081104
5   37391323  144081105
6   37391324  144081106
7   37391325  144081107
8   37391326  144081108
9   37391327  144081109
10  37391328  144081110
11  37391329  144081111
12  37391330  144081112
13  37391331  144081113
14  37391332  144081114
15  37391333  144081115
df.head():
          0          1
0        qq    qqgroup
1  37391319  144081101
2  37391320  144081102
3  37391321  144081103
4  37391322  144081104
df.tail():
           0          1
11  37391329  144081111
12  37391330  144081112
13  37391331  144081113
14  37391332  144081114
15  37391333  144081115
df:
          qq    qqgroup
0   37391319  144081101
1   37391320  144081102
2   37391321  144081103
3   37391322  144081104
4   37391323  144081105
5   37391324  144081106
6   37391325  144081107
7   37391326  144081108
8   37391327  144081109
9   37391328  144081110
10  37391329  144081111
11  37391330  144081112
12  37391331  144081113
13  37391332  144081114
14  37391333  144081115
df:
          号码         群号
0         qq    qqgroup
1   37391319  144081101
2   37391320  144081102
3   37391321  144081103
4   37391322  144081104
5   37391323  144081105
6   37391324  144081106
7   37391325  144081107
8   37391326  144081108
9   37391327  144081109
10  37391328  144081110
11  37391329  144081111
12  37391330  144081112
13  37391331  144081113
14  37391332  144081114
15  37391333  144081115
df:
          号码         群号
0   37391319  144081101
1   37391320  144081102
2   37391321  144081103
3   37391322  144081104
4   37391323  144081105
5   37391324  144081106
6   37391325  144081107
7   37391326  144081108
8   37391327  144081109
9   37391328  144081110
10  37391329  144081111
11  37391330  144081112
12  37391331  144081113
13  37391332  144081114
14  37391333  144081115</p>
<div class="highlight"><pre><span></span> * 写CSV文件
</pre></div>


<h1>!python</h1>
<h1>!/usr/bin/python3</h1>
<h1>-<em>- coding: utf-8 -</em>-</h1>
<h1>Author:    china-testing#126.com wechat:pythontesting QQ群:630011153</h1>
<h1>CreateDate: 2018-3-9</h1>
<h1>write_csv.py</h1>
<p>import pandas as pd</p>
<p>data ={'qq': [37391319,37391320], 'group':[1,2]}</p>
<p>df = pd.DataFrame(data=data, columns=['qq','group'])
df.to_csv('2.csv',index=False)</p>
<p>```</p>
<p>读写excel和csv类似，不过要改用read_excel来读，<a href="https://github.com/china-testing/python-api-tesing/blob/master/excel_summary_demo.py">excel_summary_demo</a>, 提供了多个excel求和的功能，可以做为excel读写的实例，这里不再赘述。</p>
<p><a href="http://blog.sciencenet.cn/blog-2604609-1105886.html">使用pandas处理excel</a>有更多的pandas处理excel的资料，深入学习可以参考。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://china-testing.github.io/testing_training.html">自动化性能接口测试线上及深圳培训与项目实战 qq群：144081101 591302926</a></li>
                            <li><a href="http://blog.sciencenet.cn/blog-2604609-1112306.html">pandas数据分析scrapy爬虫 521070358 Py人工智能pandas-opencv 6089740</a></li>
                            <li><a href="http://blog.sciencenet.cn/blog-2604609-1112306.html">中医解梦看相八字算命qq群 391441566 csdn书籍下载-python爬虫 437355848</a></li>
                        </ul>
                </div><!-- /.blogroll -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>