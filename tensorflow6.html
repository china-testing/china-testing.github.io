<!DOCTYPE html>
<html lang="cn">
<head>
        <meta charset="utf-8" />
        <title>TensorFlow工具快速入门教程6 深度学习库比较</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">python自动化测试人工智能 </a></h1>
                <nav><ul>
                    <li><a href="/category/ce-shi.html">测试</a></li>
                    <li><a href="/category/ce-shi-kuang-jia.html">测试框架</a></li>
                    <li><a href="/category/common.html">common</a></li>
                    <li><a href="/category/ji-qi-xue-xi.html">机器学习</a></li>
                    <li><a href="/category/linux.html">linux</a></li>
                    <li class="active"><a href="/category/python.html">python</a></li>
                    <li><a href="/category/shu-ji.html">书籍</a></li>
                    <li><a href="/category/shu-ju-fen-xi.html">数据分析</a></li>
                    <li><a href="/category/zhong-cao-yao.html">中草药</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/tensorflow6.html" rel="bookmark"
           title="Permalink to TensorFlow工具快速入门教程6 深度学习库比较">TensorFlow工具快速入门教程6 深度学习库比较</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-11-21T08:27:00+08:00">
                Published: 三 21 十一月 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/andrew.html">andrew</a>
        </address>
<p>In <a href="/category/python.html">python</a>.</p>

</footer><!-- /.post-info -->      <ul>
<li><a href="https://china-testing.github.io/tensorflow.html">本书目录</a></li>
</ul>
<h3 id="tensorflow">什么是TensorFlow？</h3>
<p>目前，世界上最出名的深度学习库是Google的TensorFlow。 Google在其所有产品中使用机器学习来改进搜索引擎，翻译，图片字幕或推荐。</p>
<p>Google用户可以通过AI体验更快，更精准的搜索。如果用户在搜索栏中键入关键字，则Google会提供有关下个字词的建议。</p>
<p><img alt="image" src="http://upload-images.jianshu.io/upload_images/12713060-e710539761b73b15.gif?imageMogr2/auto-orient/strip"></p>
<p>谷歌希望利用机器学习来利用其庞大的数据集，为用户提供最佳体验。角色分工有：研究人员、数据科学家、程序员。</p>
<p>谷歌不止拥有世界最大的海量数据，还拥有世界上最庞大的计算机集群，所以TensorFlow是按比例建造的。 TensorFlow是由Google Brain Team开发的库，用于加速机器学习和深度神经网络研究。</p>
<p>它在多个CPU或GPU甚至移动操作系统上运行，支持多种语言的包装器，如Python(为主)，C++或Java。</p>
<h3 id="tensorflow_1">TensorFlow的历史</h3>
<p>几年前深度学习在提供大量数据时开始超越所有其他机器学习算法。谷歌看使用这些深度神经网络来改善其服务：Gmail、照片、谷歌搜索引擎</p>
<p>他们构建了Tensorflow的框架，让研究人员和开发人员在AI模型上协同工作。</p>
<p>Tensorflow于2015年底首次公开，第一个稳定版本于2017年出现。它基于Apache开源许可。您可以使用它，修改它并重新发布修改后的版本，而无需向Google支付任何费用。</p>
<h3 id="tensorflow_2">TensorFlow架构</h3>
<p>Tensorflow架构分为三个部分：</p>
<ul>
<li>预处理数据</li>
<li>建立模型</li>
<li>训练和评估模型</li>
</ul>
<p>之所以叫Tensorflow，因为它将输入作为多维数组，也称为张量(tensors)。您可以构造对输入的操作(Graph)流程图。</p>
<h3 id="tensorflow_3">TensorFlow能做什么？</h3>
<p>TensorFlow可基于硬件和软件要求分类</p>
<p>开发阶段：训练模型。可在台式机或笔记本电脑上完成。</p>
<p>运行或推理阶段：Windows，macOS或Linux；云服务；iOS和Android等移动设备</p>
<p>您可以在多台机器上训练，在其他机器上运行。</p>
<p>该模型可以在GPU和CPU上进行训练和使用。 GPU最初是为视频游戏而设计的。在2010年底，斯坦福大学的研究人员发现GPU在矩阵运算和代数方面也非常擅长，因此它可以非常快速地进行这些计算。深度学习依赖于大量的矩阵乘法。 TensorFlow在计算矩阵乘法时非常快，因为它是用 ++编写的。虽然它是用C ++实现的，但TensorFlow可以被其他语言(主要是Python)访问和控制。</p>
<p>最后，TensorFlow的一个重要特征是TensorBoard。 TensorBoard可以图形化和直观地监控TensorFlow正在做什么。</p>
<h3 id="tensorflow_4">TensorFlow组件简介</h3>
<ul>
<li>Tensor</li>
</ul>
<p>所有计算都涉及张量。张量是n维的向量或矩阵，表示所有类型的数据。张量中的所有值都保持具有已知（或部分已知）形状的相同数据类型。数据的形状是矩阵或数组的维数。</p>
<p>张量可以源自输入数据或计算结果。在TensorFlow中，所有操作都在图形内部进行。图一组连续发生的计算。每个操作都称为操作节点，并相互连接。</p>
<p>该图概述了节点之间的操作和连接。但是，它不显示值。节点的边缘是张量，即计算数据操作的方法。</p>
<ul>
<li>Graph：图</li>
</ul>
<p>图收集并描述了训练期间完成的所有系列计算。</p>
<p>它可以在多个CPU或GPU甚至移动操作系统上运行。图的可移植性允许保留计算以立即或稍后使用。图中的所有计算都是通过将张量连接在一起来完成的</p>
<p>张量具有节点和边缘。节点承载数学运算并产生端点输出。边缘到边缘解释了节点之间的输入/输出关系。</p>
<h3 id="tensorflow_5">为什么TensorFlow很受欢迎？</h3>
<p>Tensorflow库结合了不同的API来构建大规模的深度学习架构，如CNN或RNN。 TensorFlow基于图形计算;它允许开发人员用Tensorboad可视化神经网络的构造。Tensorflow易于调试。最后，Tensorflow可以大规模部署。它运行在CPU和GPU上。</p>
<p>与其他深度学习框架相比，Tensorflow在GitHub上吸引了最大的人气。</p>
<h3 id="tensorflow_6">TensorFlow支持的算法</h3>
<p>目前，TensorFlow 1.10内置API支持：</p>
<ul>
<li>线性回归：tf.estimator.LinearRegressor</li>
<li>分类：tf.estimator.LinearClassifier</li>
<li>深度学习分类：tf.estimator.DNNClassifier</li>
<li>深度学习擦除和深度：tf.estimator.DNNLinearCombinedClassifier</li>
<li>Booster 树回归：tf.estimator.BoostedTreesRegressor</li>
<li>Boosted树分类：tf.estimator.BoostedTreesClassifier</li>
</ul>
<h3 id="tensorflow_7">简单的TensorFlow示例</h3>
<p><img alt="图片.png" src="https://upload-images.jianshu.io/upload_images/12713060-c27780b86f0e4a48.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"></p>
<p>在示例中，我们将X_1和X_2相乘。 Tensorflow将创建节点来连接操作。在我们的例子中，它被称为multiply。确定图形后，Tensorflow计算引擎将X_1和X_2相乘。</p>
<p>最后，我们将运行TensorFlow会话，该会话将运行具有X_1和X_2值的计算图并打印乘法的结果。</p>
<div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># Author:    xurongzhong#126.com wechat:pythontesting qq:37391319</span>
<span class="c1"># 技术支持 钉钉群：21745728(可以加钉钉pythontesting邀请加入) </span>
<span class="c1"># qq群：144081101 591302926  567351477</span>
<span class="c1"># CreateDate: 2018-11-21</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">tensorflow</span> <span class="kn">as</span> <span class="nn">tf</span>

<span class="n">X_1</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">placeholder</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;X_1&quot;</span><span class="p">)</span>
<span class="n">X_2</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">placeholder</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;X_2&quot;</span><span class="p">)</span>
<span class="n">multiply</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">multiply</span><span class="p">(</span><span class="n">X_1</span><span class="p">,</span> <span class="n">X_2</span><span class="p">,</span> <span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;multiply&quot;</span><span class="p">)</span>

<span class="k">with</span> <span class="n">tf</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">multiply</span><span class="p">,</span> <span class="n">feed_dict</span><span class="o">=</span><span class="p">{</span><span class="n">X_1</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">X_2</span><span class="p">:[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]})</span>
    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
</pre></div>


<p>执行结果</p>
<div class="highlight"><pre><span></span><span class="p">[</span> <span class="mf">4.</span> <span class="mf">10.</span> <span class="mf">18.</span><span class="p">]</span>
</pre></div>


<h3 id="_1">参考资料</h3>
<ul>
<li>讨论qq群144081101 591302926 567351477 钉钉群21745728</li>
<li><a href="https://china-testing.github.io/tensorflow5.html">本文最新版本地址</a></li>
<li><a href="https://github.com/china-testing/python-api-tesing">本文涉及的python测试开发库</a> 谢谢点赞！</li>
<li><a href="https://github.com/china-testing/python-api-tesing/blob/master/books.md">本文相关海量书籍下载</a>   </li>
<li><a href="https://www.jianshu.com/p/49202312f855">2018最佳人工智能机器学习工具书及下载(持续更新)</a></li>
</ul>
<h3 id="tensorflow_8">将数据加载到TensorFlow</h3>
<p>两种公共方式可以加载数据：</p>
<p>1.将数据加载到内存中：这是最简单的方法。您将所有数据作为单个数组加载到内存中。您可以编写Python代码。代码与Tensorflow无关。</p>
<ol>
<li>Tensorflow数据管道。 Tensorflow具有内置API，可帮助您轻松加载数据，执行操作并提供机器学习算法。此方法非常有效，尤其是当您拥有大型数据集时。</li>
</ol>
<p>如果您的数据集不是太大，即小于10G，则可以使用第一种方法。用Pandas导入CSV文件。</p>
<p>如果您有一个大型数据集，第二种方法效果最好。例如，如果您有50G的数据集，并且您的计算机只有16G的内存，那么计算机将crash。</p>
<p>在这种情况下，您需要构建Tensorflow管道。管道将以批量或小块的形式加载数据。每批都将被推送到管道并准备好进行培训。构建管道是一个很好的解决方案，因为它允许您使用并行计算。这意味着Tensorflow将在多个CPU上训练模型。它加快计算并允许训练强大的神经网络。</p>
<p>简而言之，小数据集可以使用Pandas库将数据加载到内存中。大型数据集并且想要使用多个CPU，那么使用Tensorflow管道会更加舒适。</p>
<h3 id="tensorflow_9">创建Tensorflow管道</h3>
<p>在之前的示例中，我们手动为X_1和X_2添加三个值。现在我们将看到如何将数据加载到Tensorflow。</p>
<div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># Author:    xurongzhong#126.com wechat:pythontesting qq:37391319</span>
<span class="c1"># 技术支持 钉钉群：21745728(可以加钉钉pythontesting邀请加入) </span>
<span class="c1"># qq群：144081101 591302926  567351477</span>
<span class="c1"># CreateDate: 2018-11-21</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">tensorflow</span> <span class="kn">as</span> <span class="nn">tf</span>

<span class="n">x_input</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">sample</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="n">x_input</span><span class="p">)</span>

<span class="c1"># using a placeholder</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">placeholder</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">float32</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;X&#39;</span><span class="p">)</span>

<span class="n">dataset</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">Dataset</span><span class="o">.</span><span class="n">from_tensor_slices</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="n">iterator</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">make_initializable_iterator</span><span class="p">()</span> 
<span class="n">get_next</span> <span class="o">=</span> <span class="n">iterator</span><span class="o">.</span><span class="n">get_next</span><span class="p">()</span>

<span class="k">with</span> <span class="n">tf</span><span class="o">.</span><span class="n">Session</span><span class="p">()</span> <span class="k">as</span> <span class="n">sess</span><span class="p">:</span>
    <span class="c1"># feed the placeholder with data</span>
    <span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">iterator</span><span class="o">.</span><span class="n">initializer</span><span class="p">,</span> <span class="n">feed_dict</span><span class="o">=</span><span class="p">{</span> <span class="n">x</span><span class="p">:</span> <span class="n">x_input</span> <span class="p">})</span> 
    <span class="k">print</span><span class="p">(</span><span class="n">sess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">get_next</span><span class="p">))</span> <span class="c1"># output [ 0.52374458  0.71968478]</span>
</pre></div>


<p>执行结果</p>
<div class="highlight"><pre><span></span><span class="p">[[</span><span class="mf">0.05395269</span> <span class="mf">0.716471</span>  <span class="p">]]</span>
<span class="p">[</span><span class="mf">0.05395269</span> <span class="mf">0.716471</span>  <span class="p">]</span>
</pre></div>


<h2 id="_2">参考资料</h2>
<ul>
<li>讨论qq群144081101 591302926 567351477 钉钉免费群21745728</li>
<li><a href="https://github.com/china-testing/python-api-tesing">本文涉及的python测试开发库</a> 请在github上点赞，谢谢！</li>
<li><a href="https://github.com/china-testing/python-api-tesing/blob/master/books.md">本文相关海量书籍下载</a> </li>
<li><a href="https://github.com/ageitgey/face_recognition">face_recognition</a></li>
<li><a href="https://china-testing.github.io/opencv_books.html">2018最佳人工智能图像处理工具OpenCV书籍下载</a> </li>
<li><a href="https://china-testing.github.io/ai_books.html">2018最佳人工智能机器学习工具书籍及下载(持续更新)</a> </li>
<li><a href="https://china-testing.github.io/tensorflow6.html">本文最新版本地址</a></li>
<li><a href="https://china-testing.github.io/testing_training.html">接口自动化性能测试线上培训大纲</a></li>
<li>道家技术-手相手诊看相中医等钉钉群21734177 qq群：391441566 184175668 338228106 看手相、面相、舌相、抽签、体质识别。服务费50元每人次起。请联系钉钉或者微信pythontesting</li>
</ul>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://china-testing.github.io/testing_training.html">自动化性能接口测试线上及深圳培训与项目实战 qq群：144081101 591302926</a></li>
                            <li><a href="http://blog.sciencenet.cn/blog-2604609-1112306.html">pandas数据分析scrapy爬虫 521070358 Py人工智能pandas-opencv 6089740</a></li>
                            <li><a href="http://blog.sciencenet.cn/blog-2604609-1112306.html">中医解梦看相八字算命qq群 391441566 csdn书籍下载-python爬虫 437355848</a></li>
                        </ul>
                </div><!-- /.blogroll -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>