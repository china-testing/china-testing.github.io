<!DOCTYPE html>
<html lang="cn">
<head>
        <meta charset="utf-8" />
        <title>10分钟学会API测试</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">python自动化测试人工智能 </a></h1>
                <nav><ul>
                    <li><a href="/category/ba-zi.html">八字</a></li>
                    <li class="active"><a href="/category/ce-shi.html">测试</a></li>
                    <li><a href="/category/ce-shi-kuang-jia.html">测试框架</a></li>
                    <li><a href="/category/common.html">common</a></li>
                    <li><a href="/category/feng-shui.html">风水</a></li>
                    <li><a href="/category/ji-qi-xue-xi.html">机器学习</a></li>
                    <li><a href="/category/jie-meng.html">解梦</a></li>
                    <li><a href="/category/linux.html">linux</a></li>
                    <li><a href="/category/python.html">python</a></li>
                    <li><a href="/category/shu-ji.html">书籍</a></li>
                    <li><a href="/category/shu-ju-fen-xi.html">数据分析</a></li>
                    <li><a href="/category/zhong-cao-yao.html">中草药</a></li>
                    <li><a href="/category/zhong-yi.html">中医</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/testing_api_10min.html" rel="bookmark"
           title="Permalink to 10分钟学会API测试">10分钟学会API测试</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-05-04T09:20:00+08:00">
                Published: 五 04 五月 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/andrew.html">andrew</a>
        </address>
<p>In <a href="/category/ce-shi.html">测试</a>.</p>

</footer><!-- /.post-info -->      <h2 id="api">什么是API</h2>
<p>在进行Api测试之前，让我们先了解一下什么是API？</p>
<p>API是应用程序编程接口(Application Programming Interface)的首字母缩写。</p>
<p>它支持两个独立软件系统之间的通信和数据交换。实现API的软件系统包含可以由其他软件系统执行的功能/子程序。</p>
<h2 id="api_1">什么是API测试？</h2>
<p>API测试与GUI测试完全不同，主要集中在软件架构的业务逻辑层。这种测试不太关注应用程序的外观和感觉。</p>
<p>在API测试中，您不必使用标准用户输入（键盘）和输出，而是使用软件将调用发送到API，获取输出并记下系统的响应。</p>
<p>在API测试中测试需要应用程序与API进行交互。为了测试API，你需要</p>
<ul>
<li>使用测试工具来驱动API</li>
<li>编写你自己的代码来测试API</li>
</ul>
<p><img alt="Alt Text" src="/images/testing_api_10min_level.png"> </p>
<h2 id="api_2">设置API测试环境</h2>
<ul>
<li>API测试与其他测试类型不同，因为GUI不可用，但您需要设置初始环境，以调用具有所需参数集的API，然后最终检查测试结果。</li>
<li>因此，为API测试设置测试环境似乎有点复杂。</li>
<li>数据库和服务器应按照应用程序要求进行配置。</li>
<li>安装完成后，应调用API函数来检查该API是否正常工作。</li>
</ul>
<h2 id="api_3">API的输出类型</h2>
<p>API的输出可能是</p>
<ul>
<li>任何类型的数据</li>
</ul>
<p>例如：有一个API函数应该为两个整数求和：</p>
<div class="highlight"><pre><span></span><span class="n">Long</span> <span class="n">add</span><span class="err">（</span><span class="kt">int</span> <span class="n">a</span><span class="err">，</span><span class="kt">int</span> <span class="n">b</span><span class="err">）</span>
</pre></div>


<p>数字必须作为输入参数给出。输出应该是两个整数的总和。这个输出需要用预期的结果进行验证。</p>
<p>调用比如</p>
<div class="highlight"><pre><span></span><span class="n">add</span> <span class="p">(</span><span class="mi">1234</span><span class="p">,</span> <span class="mi">5656</span><span class="p">)</span>
</pre></div>


<p>如果超过整数限制，则必须处理例外情况。</p>
<ul>
<li>状态（例如Pass或Fail）</li>
</ul>
<p>考虑下面的API函数:</p>
<div class="highlight"><pre><span></span>Lock()
Unlock()
Delete()
</pre></div>


<p>它们返回任何值，如True（成功的情况下）或False（如果有错误）作为输出。</p>
<p>更精确的测试用例可以调用任何脚本中的函数，并在数据库或应用程序GUI中中检查更改。</p>
<ul>
<li>调用另一个API函数。</li>
</ul>
<p>例如 - 第一个API函数可用于删除表中的指定记录，而此函数又调用另一个函数来刷新数据库。</p>
<h2 id="api_4">API测试的测试用例：</h2>
<ul>
<li>基于输入条件的返回值：测试相对容易，因为可以定义输入并且可以验证结果</li>
<li>不返回任何内容：当没有返回值时，检查系统上API的行为</li>
<li>触发其他API/事件/中断：如果API的输出触发某个事件或中断，则应跟踪这些事件和中断侦听器</li>
<li>更新数据结构：更新数据结构会对系统产生一些结果或影响，并且应该进行认证</li>
<li>修改某些资源：如果API调用修改了一些资源，则应通过访问各自的资源来验证它</li>
</ul>
<h2 id="api_5">API测试方法：</h2>
<ul>
<li>了解API程序的功能并明确定义程序的范围</li>
<li>用等效类，边界值分析和错误猜测等测试技术，并为API编写测试用例</li>
<li>API的输入参数需要进行适当的规划和定义</li>
<li>执行测试用例并比较预期结果和实际结果。</li>
</ul>
<h2 id="api_6">API测试和单元测试的区别</h2>
<table>
<thead>
<tr>
<th align="center">单元测试</th>
<th align="center">API测试</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">多为开发人员执行</td>
<td align="center">多为测试人员执行</td>
</tr>
<tr>
<td align="center">独的功能</td>
<td align="center">端到端功能</td>
</tr>
<tr>
<td align="center">以访问源代码</td>
<td align="center">经常无法访问源代码</td>
</tr>
<tr>
<td align="center">涉及到UI测试</td>
<td align="center">只有API</td>
</tr>
<tr>
<td align="center">通常只有基本功能</td>
<td align="center">通常涉及所有功能</td>
</tr>
<tr>
<td align="center">范围有限</td>
<td align="center">范围更广</td>
</tr>
<tr>
<td align="center">通常在check-in前运行</td>
<td align="center">builid完成后运行</td>
</tr>
</tbody>
</table>
<h2 id="api_7">在API测试中测试什么</h2>
<p>除了通常的SDLC（Software Development Life Cycle 软件生命周期）过程外，API测试应覆盖至少以下测试方法</p>
<ul>
<li>发现测试：测试组应手动执行API中记录的一组调用，例如验证是否可以产看，创建和删除由API公开的特定资源</li>
<li>可用性测试：验证API是否可用和用户友好。 API是否与另一个平台完美集成</li>
<li>安全测试：此测试包括需要哪种类型的身份验证以及敏感数据是通过HTTP进行加密还是两者兼而有之</li>
<li>自动化测试：API测试应最终创建一组脚本或可用于定期执行API的工具</li>
<li>文档：测试团队必须确保文档足够，并提供足够的信息与API进行交互。文档应该是最终可交付成果的一部分</li>
</ul>
<h2 id="api_8">API测试的最佳实践：</h2>
<ul>
<li>测试用例应按测试类别进行分组</li>
<li>在每个测试的最上面，你应该包括被调用的API的声明。</li>
<li>参数选择应该在测试用例本身中明确提及</li>
<li>优先考虑API函数调用，以便测试人员能够轻松测试</li>
<li>每个测试用例应该尽可能独立</li>
<li>避免在开发过程中使用“测试链”</li>
<li>处理一次调用函数时必须特别小心，如 - Delete，CloseWindow等等。</li>
<li>调用队列</li>
<li>为确保完整的测试覆盖率，请为API的所有可能输入组合创建测试用例。</li>
</ul>
<h2 id="_1">测试检测到的错误类型</h2>
<ul>
<li>无法正常处理错误条件。比如分母为0、文件不存在、忘记导入库等。</li>
<li>未使用的标志</li>
<li>缺少或重复的功能</li>
<li>可靠性问题。连接并获取API响应时遇到困难。</li>
<li>安全问题</li>
<li>多线程问题</li>
<li>性能问题。 API响应时间非常高。</li>
<li>不正确的错误/警告给调用者</li>
<li>错误的有效参数值处理</li>
<li>响应数据结构不正确（JSON或XML）</li>
</ul>
<h2 id="api_9">API测试工具</h2>
<p>由于API和单元测试都针对源代码，因此可以使用类似的工具进行测试。</p>
<ul>
<li>SOAPUI - 这是一个易于使用的工具，具有广泛的REST和SOAP API测试功能 - 无需脚本经验。</li>
<li><a href="https://www.runscope.com/">Runscope</a></li>
<li><a href="https://www.getpostman.com/">Postman </a></li>
<li><a href="https://github.com/curl/curl">Curl</a></li>
<li><a href="https://github.com/jakubroztocil/httpie">httpie</a> </li>
<li><a href="http://www.cfix-testing.org/unit-testing-framework/">cfix</a> </li>
<li>Check</li>
<li>CTESK</li>
<li>dotTEST</li>
<li>Eclipse SDK工具 - 自动API测试</li>
<li><a href="https://github.com/china-testing/python-api-tesing#%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6">更多测试工具</a></li>
<li><a href="https://www.guru99.com/top-6-api-testing-tool.html">Top 20 API Testing Tools In 2018: REST &amp; SOAP </a></li>
</ul>
<p>技术支持qq群：测试开发自动化测试 144081101  Python自动化测试初学者 567351477</p>
<h2 id="api_10">API测试的挑战</h2>
<ul>
<li>API测试中的主要挑战是参数组合，参数选择和调用排序</li>
<li>没有GUI可用于测试难以给出输入值的应用程序</li>
<li>验证和验证不同系统中的输出对于测试人员来说很难</li>
<li>测试人员需要了解参数选择和分类</li>
<li>异常处理功能需要测试</li>
<li>编码知识对于测试人员是必要的</li>
</ul>
<p>结论：</p>
<p>API由代表业务逻辑层的一组类/功能/程序组成。如果没有正确测试API，则不仅会导致API应用程序出现问题，而且还会导致在调用应用程序中出现问题。</p>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://china-testing.github.io/testing_training.html">自动化性能接口测试线上及深圳培训与项目实战 qq群：144081101 591302926</a></li>
                            <li><a href="http://blog.sciencenet.cn/blog-2604609-1112306.html">pandas数据分析scrapy爬虫 521070358 Py人工智能pandas-opencv 6089740</a></li>
                            <li><a href="http://blog.sciencenet.cn/blog-2604609-1112306.html">中医解梦看相八字算命qq群 391441566 csdn书籍下载-python爬虫 437355848</a></li>
                        </ul>
                </div><!-- /.blogroll -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>