<!DOCTYPE html>
<html lang="cn">
<head>
        <meta charset="utf-8" />
        <title>[雪峰磁针石博客]python3快速入门教程7输入和输出</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">python自动化测试人工智能 </a></h1>
                <nav><ul>
                    <li><a href="/category/ce-shi.html">测试</a></li>
                    <li><a href="/category/ce-shi-kuang-jia.html">测试框架</a></li>
                    <li><a href="/category/common.html">common</a></li>
                    <li><a href="/category/feng-shui.html">风水</a></li>
                    <li><a href="/category/ji-qi-xue-xi.html">机器学习</a></li>
                    <li><a href="/category/jie-meng.html">解梦</a></li>
                    <li><a href="/category/linux.html">linux</a></li>
                    <li class="active"><a href="/category/python.html">python</a></li>
                    <li><a href="/category/shu-ji.html">书籍</a></li>
                    <li><a href="/category/shu-ju-fen-xi.html">数据分析</a></li>
                    <li><a href="/category/zhong-cao-yao.html">中草药</a></li>
                    <li><a href="/category/zhong-yi.html">中医</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/python3_crash_ch7.html" rel="bookmark"
           title="Permalink to [雪峰磁针石博客]python3快速入门教程7输入和输出">[雪峰磁针石博客]python3快速入门教程7输入和输出</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-09-02T10:40:00+08:00">
                Published: 日 02 九月 2018
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/andrew.html">andrew</a>
        </address>
<p>In <a href="/category/python.html">python</a>.</p>

</footer><!-- /.post-info -->      <p>python有多种输出方式：屏幕打印数据，或者写入文件。</p>
<h2 id="_1">格式化输出</h2>
<p>我们有两种大相径庭地输出值方法：表达式语句* 和 <a href="https://docs.python.org/3/library/functions.html#print">print()</a> 函数(第三种方法使用文件对象的write()方法，标准文件输出可以参考sys.stdout)。</p>
<p>通常需要对输出做更多的格式控制，而不是简单的打印空格分隔值。有两种方法可以格式化你的输出：第一种方法是由你自己处理整个字符串，通过使用字符串切片和连接操作可以创建任何你想要的输出形式。string 类型包含一些将字符串填充到指定列宽度的有用操作。第二种方法是使用 <a href="https://docs.python.org/3/library/stdtypes.html#str.format">str.format()</a> 方法。</p>
<p>标准模块 <a href="https://docs.python.org/3/library/string.html#module-string">string</a> 的<a href="https://docs.python.org/3/library/string.html#string.Template">Template</a> 类可以替换字符串的值。(<a href="https://china-testing.github.io/python3_lib_string.html">python标准模块介绍-string:文本常量和模板</a>)</p>
<p>Python 有办法将任意值转为字符串： <a href="https://docs.python.org/3/library/functions.html#repr">repr()</a> 或 <a href="https://docs.python.org/3/library/stdtypes.html#str">str()</a> 函数。</p>
<p>函数 <a href="https://docs.python.org/3/library/stdtypes.html#str">str()</a> 用于将值转化为适于人阅读的形式，而 <a href="https://docs.python.org/3/library/functions.html#repr">repr()</a> 转化为供解释器读取的形式（如果没有相关语法，则会发生 <a href="https://docs.python.org/3/library/exceptions.html#SyntaxError">SyntaxError</a> 异常，没有<a href="https://docs.python.org/3/library/stdtypes.html#str">str()</a> 会返回与 <a href="https://docs.python.org/3/library/functions.html#repr">repr()</a> 等同的值。很多类型，诸如数值或列表、字典这样的结构，两者解读方式相同。字符串和浮点数则不同。</p>
<p>下面有些例子:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Hello, world.&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="s1">&#39;Hello, world.&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">repr</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="s2">&quot;&#39;Hello, world.&#39;&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">7</span><span class="p">)</span>
<span class="s1">&#39;0.14285714285714285&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">*</span> <span class="mf">3.25</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">200</span> <span class="o">*</span> <span class="mi">200</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;The value of x is &#39;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;, and y is &#39;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;...&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="n">The</span> <span class="n">value</span> <span class="n">of</span> <span class="n">x</span> <span class="ow">is</span> <span class="mf">32.5</span><span class="p">,</span> <span class="ow">and</span> <span class="n">y</span> <span class="ow">is</span> <span class="mf">40000.</span><span class="o">..</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># The repr() of a string adds string quotes and backslashes:</span>
<span class="o">...</span> <span class="n">hello</span> <span class="o">=</span> <span class="s1">&#39;hello, world</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">hellos</span> <span class="o">=</span> <span class="nb">repr</span><span class="p">(</span><span class="n">hello</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="n">hellos</span><span class="p">)</span>
<span class="s1">&#39;hello, world</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="c1"># The argument to repr() may be any Python object:</span>
<span class="o">...</span> <span class="nb">repr</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">)))</span>
<span class="s2">&quot;(32.5, 40000, (&#39;spam&#39;, &#39;eggs&#39;))&quot;</span>
</pre></div>


<p>有两种方式可以写平方和立方表:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>
<span class="o">...</span>     <span class="c1"># Note use of &#39;end&#39; on previous line</span>
<span class="o">...</span>     <span class="k">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">rjust</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="o">...</span>
 <span class="mi">1</span>   <span class="mi">1</span>    <span class="mi">1</span>
 <span class="mi">2</span>   <span class="mi">4</span>    <span class="mi">8</span>
 <span class="mi">3</span>   <span class="mi">9</span>   <span class="mi">27</span>
 <span class="mi">4</span>  <span class="mi">16</span>   <span class="mi">64</span>
 <span class="mi">5</span>  <span class="mi">25</span>  <span class="mi">125</span>
 <span class="mi">6</span>  <span class="mi">36</span>  <span class="mi">216</span>
 <span class="mi">7</span>  <span class="mi">49</span>  <span class="mi">343</span>
 <span class="mi">8</span>  <span class="mi">64</span>  <span class="mi">512</span>
 <span class="mi">9</span>  <span class="mi">81</span>  <span class="mi">729</span>
<span class="mi">10</span> <span class="mi">100</span> <span class="mi">1000</span>

<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">11</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">print</span><span class="p">(</span><span class="s1">&#39;{0:2d} {1:3d} {2:4d}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="n">x</span><span class="p">))</span>
<span class="o">...</span>
 <span class="mi">1</span>   <span class="mi">1</span>    <span class="mi">1</span>
 <span class="mi">2</span>   <span class="mi">4</span>    <span class="mi">8</span>
 <span class="mi">3</span>   <span class="mi">9</span>   <span class="mi">27</span>
 <span class="mi">4</span>  <span class="mi">16</span>   <span class="mi">64</span>
 <span class="mi">5</span>  <span class="mi">25</span>  <span class="mi">125</span>
 <span class="mi">6</span>  <span class="mi">36</span>  <span class="mi">216</span>
 <span class="mi">7</span>  <span class="mi">49</span>  <span class="mi">343</span>
 <span class="mi">8</span>  <span class="mi">64</span>  <span class="mi">512</span>
 <span class="mi">9</span>  <span class="mi">81</span>  <span class="mi">729</span>
<span class="mi">10</span> <span class="mi">100</span> <span class="mi">1000</span>
</pre></div>


<p>(注意第一个例子，<a href="https://docs.python.org/3/library/functions.html#print">print()</a> 在每列之间加了一个空格，默认在参数间加入空格。)</p>
<p>以上是一个 <a href="https://docs.python.org/3/library/stdtypes.html#str.rjust">str.rjust()</a> 方法的演示，它把字符串输出到一列，并通过向左侧填充空格来使其右对齐。类似的方法还有 <a href="https://docs.python.org/3/library/stdtypes.html#str.ljust">str.ljust()</a> 和 <a href="https://docs.python.org/3/library/stdtypes.html#str.center">str.center()</a>。如果输出的字符串太长，它们也不会截断它，而是原样输出，这会使你的输出格式变得混乱(如果你确实需要截断它，可以使用切割操作，例如：<code>x.ljust(n)[:n]</code> ）。</p>
<p><a href="https://docs.python.org/3/library/stdtypes.html#str.zfill">str.zfill()</a> 用于向数值的字符串表达左侧填充 0。该函数可以正确识别正负号:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="s1">&#39;12&#39;</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="s1">&#39;00012&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s1">&#39;-3.14&#39;</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="s1">&#39;-003.14&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s1">&#39;3.14159265359&#39;</span><span class="o">.</span><span class="n">zfill</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="s1">&#39;3.14159265359&#39;</span>
</pre></div>


<p>方法 <a href="https://docs.python.org/3/library/stdtypes.html#str.format">str.format()</a> 的基本用法如下:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;We are the {} who say &quot;{}!&quot;&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;knights&#39;</span><span class="p">,</span> <span class="s1">&#39;Ni&#39;</span><span class="p">))</span>
<span class="n">We</span> <span class="n">are</span> <span class="n">the</span> <span class="n">knights</span> <span class="n">who</span> <span class="n">say</span> <span class="s2">&quot;Ni!&quot;</span>
</pre></div>


<p>大括号和其中的字符会被替换成传入 <a href="https://docs.python.org/3/library/stdtypes.html#str.format">str.format()</a> 的参数。大括号中的数值指明使用传入 <a href="https://docs.python.org/3/library/stdtypes.html#str.format">str.format()</a> 方法的对象中的哪一个:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;{0} and {1}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">))</span>
<span class="n">spam</span> <span class="ow">and</span> <span class="n">eggs</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;{1} and {0}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="s1">&#39;eggs&#39;</span><span class="p">))</span>
<span class="n">eggs</span> <span class="ow">and</span> <span class="n">spam</span>
</pre></div>


<p>如果在 <a href="https://docs.python.org/3/library/stdtypes.html#str.format">str.format()</a> 使用关键字参数，可以通过参数名来引用值:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;This {food} is {adjective}.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
<span class="o">...</span>       <span class="n">food</span><span class="o">=</span><span class="s1">&#39;spam&#39;</span><span class="p">,</span> <span class="n">adjective</span><span class="o">=</span><span class="s1">&#39;absolutely horrible&#39;</span><span class="p">))</span>
<span class="n">This</span> <span class="n">spam</span> <span class="ow">is</span> <span class="n">absolutely</span> <span class="n">horrible</span><span class="o">.</span>
</pre></div>


<p>位置参数和关键字参数可以随意组合:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;The story of {0}, {1}, and {other}.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;Bill&#39;</span><span class="p">,</span> <span class="s1">&#39;Manfred&#39;</span><span class="p">,</span>
                                                       <span class="n">other</span><span class="o">=</span><span class="s1">&#39;Georg&#39;</span><span class="p">))</span>
<span class="n">The</span> <span class="n">story</span> <span class="n">of</span> <span class="n">Bill</span><span class="p">,</span> <span class="n">Manfred</span><span class="p">,</span> <span class="ow">and</span> <span class="n">Georg</span><span class="o">.</span>
</pre></div>


<p><code>'!a'</code> (应用 <a href="https://docs.python.org/3/library/functions.html#ascii">ascii()</a>)，<code>'!s'</code> （应用 <a href="https://docs.python.org/3/library/stdtypes.html#str">str()</a> ）和 <code>'!r'</code> （应用 <a href="https://docs.python.org/3/library/functions.html#repr">repr()</a> ）可在格式化之前转换值:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">contents</span> <span class="o">=</span> <span class="s1">&#39;eels&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;My hovercraft is full of {}.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">contents</span><span class="p">))</span>
<span class="n">My</span> <span class="n">hovercraft</span> <span class="ow">is</span> <span class="n">full</span> <span class="n">of</span> <span class="n">eels</span><span class="o">.</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;My hovercraft is full of {!r}.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">contents</span><span class="p">))</span>
<span class="n">My</span> <span class="n">hovercraft</span> <span class="ow">is</span> <span class="n">full</span> <span class="n">of</span> <span class="s1">&#39;eels&#39;</span><span class="o">.</span>
</pre></div>


<p>字段名后允许可选的 <code>':'</code> 和格式指令。这允许对值的格式化更多的控制。下例将 Pi 转为三位精度。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">math</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;The value of PI is approximately {0:.3f}.&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">))</span>
<span class="n">The</span> <span class="n">value</span> <span class="n">of</span> <span class="n">PI</span> <span class="ow">is</span> <span class="n">approximately</span> <span class="mf">3.142</span><span class="o">.</span>
</pre></div>


<p>在字段后的 <code>':'</code> 后面的整数会限定该字段的最小宽度，这在美化表格时很有用:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">table</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Sjoerd&#39;</span><span class="p">:</span> <span class="mi">4127</span><span class="p">,</span> <span class="s1">&#39;Jack&#39;</span><span class="p">:</span> <span class="mi">4098</span><span class="p">,</span> <span class="s1">&#39;Dcab&#39;</span><span class="p">:</span> <span class="mi">7678</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">phone</span> <span class="ow">in</span> <span class="n">table</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="o">...</span>     <span class="k">print</span><span class="p">(</span><span class="s1">&#39;{0:10} ==&gt; {1:10d}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">phone</span><span class="p">))</span>
<span class="o">...</span>
<span class="n">Jack</span>       <span class="o">==&gt;</span>       <span class="mi">4098</span>
<span class="n">Dcab</span>       <span class="o">==&gt;</span>       <span class="mi">7678</span>
<span class="n">Sjoerd</span>     <span class="o">==&gt;</span>       <span class="mi">4127</span>
</pre></div>


<p>很长的格式化字符串又不想分割，可以传入一个字典，用中括号( <code>'[]'</code> )访问它的键:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">table</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Sjoerd&#39;</span><span class="p">:</span> <span class="mi">4127</span><span class="p">,</span> <span class="s1">&#39;Jack&#39;</span><span class="p">:</span> <span class="mi">4098</span><span class="p">,</span> <span class="s1">&#39;Dcab&#39;</span><span class="p">:</span> <span class="mi">8637678</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Jack: {0[Jack]:d}; Sjoerd: {0[Sjoerd]:d}; &#39;</span>
<span class="o">...</span>       <span class="s1">&#39;Dcab: {0[Dcab]:d}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">table</span><span class="p">))</span>
<span class="n">Jack</span><span class="p">:</span> <span class="mi">4098</span><span class="p">;</span> <span class="n">Sjoerd</span><span class="p">:</span> <span class="mi">4127</span><span class="p">;</span> <span class="n">Dcab</span><span class="p">:</span> <span class="mi">8637678</span>
</pre></div>


<p>也可以用 ‘**’ 标志将这个字典以关键字参数的方式传入:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">table</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Sjoerd&#39;</span><span class="p">:</span> <span class="mi">4127</span><span class="p">,</span> <span class="s1">&#39;Jack&#39;</span><span class="p">:</span> <span class="mi">4098</span><span class="p">,</span> <span class="s1">&#39;Dcab&#39;</span><span class="p">:</span> <span class="mi">8637678</span><span class="p">}</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;Jack: {Jack:d}; Sjoerd: {Sjoerd:d}; Dcab: {Dcab:d}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">table</span><span class="p">))</span>
<span class="n">Jack</span><span class="p">:</span> <span class="mi">4098</span><span class="p">;</span> <span class="n">Sjoerd</span><span class="p">:</span> <span class="mi">4127</span><span class="p">;</span> <span class="n">Dcab</span><span class="p">:</span> <span class="mi">8637678</span>
</pre></div>


<p>这种方式与新的内置函数 <a href="https://docs.python.org/3/library/functions.html#vars">vars()</a> 组合使用非常有效。该函数返回包含所有局部变量的字典。</p>
<p>要进一步了解字符串格式化方法 <a href="https://docs.python.org/3/library/stdtypes.html#str.format">str.format()</a>，参见 <a href="https://docs.python.org/3/library/string.html#formatstrings">格式字符串语法</a>。</p>
<ul>
<li>旧式的字符串格式化</li>
</ul>
<p>操作符 <code>%</code> 也可以用于字符串格式化。它以类似 <code>sprintf()</code>-style 的方式解析左参数，将右参数应用于此，得到格式化操作生成的字符串，例如:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">math</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">print</span><span class="p">(</span><span class="s1">&#39;The value of PI is approximately </span><span class="si">%5.3f</span><span class="s1">.&#39;</span> <span class="o">%</span> <span class="n">math</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
<span class="n">The</span> <span class="n">value</span> <span class="n">of</span> <span class="n">PI</span> <span class="ow">is</span> <span class="n">approximately</span> <span class="mf">3.142</span><span class="o">.</span>
</pre></div>


<p>更多的信息可以参见 <a href="https://docs.python.org/3/library/stdtypes.html#old-string-formatting">printf-style String Formatting</a> 。</p>
<h2 id="_2">文件读写</h2>
<p>函数 <a href="https://docs.python.org/3/library/functions.html#open">open()</a> 返回 <a href="https://docs.python.org/3/glossary.html#term-file-object">文件对象</a>，通常的用法需要两个参数：<code>open(filename, mode)</code>。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;workfile&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
</pre></div>


<p>第一个参数是文件名。第二个参数也是字符串，含有描述如何使用该文件的几个字符。mode为'r' 时表示只是读取文件；<code>'w'</code> 表示只是写入文件（已经存在的同名文件将被删掉）； 'a'表示打开文件进行追加，写入到文件中的任何数据将自动添加到末尾。 'r+' 表示打开文件进行读取和写入。mode参数是可选的，默认为'r' 。</p>
<p>通常，文件以text模式打开，这意味着，你从文件读出和向文件写入的字符串会被特定的编码方式(类Linux默认是UTF-8,windows经常为gbk，容易导致一些IO问题)编码。模式后面的'b'以二进制模式打开文件：数据会以字节对象的形式读出和写入。这种模式应该用于所有不包含文本的文件。</p>
<p>在文本模式下，读取时默认会将平台有关的行结束符（Unix上是 <code>\n</code> , Windows上是 <code>\r\n</code>）转换为 <code>\n</code>。在文本模式下写入时，默认会将出现的 <code>\n</code> 转换成平台有关的行结束符。这种暗地里的修改对 ASCII 文本文件没有问题，但会损坏 <code>JPEG</code> 或 <code>EXE</code> 这样的二进制文件中的数据。使用二进制模式读写此类文件时要特别小心。</p>
<p>用关键字 <a href="https://docs.python.org/3/reference/compound_stmts.html#with">with</a> 处理文件对象是个好习惯。它的好处在于文件用完后会自动关闭，就算发生异常也没关系，且比<a href="https://docs.python.org/3/reference/compound_stmts.html#try"><code>try</code></a>-<a href="https://docs.python.org/3/reference/compound_stmts.html#finally"><code>finally</code></a>更简洁:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;workfile&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<span class="o">...</span>     <span class="n">read_data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">closed</span>
<span class="bp">True</span>
</pre></div>


<p>不用with关键字则应该调用 f.close() 来关闭文件，并立即释放它使用的系统资源。 如果没有明确地关闭文件，Python的垃圾回收器最终会销毁这个对象并为你关闭这个打开的文件，但是这个文件可能会保持打开一段时间。 另一个风险是不同的Python实现会在不同的时间进行这种清理。</p>
<p>在关闭文件对象之后，可以通过with语句或通过调用f.close()来尝试使用文件对象将自动失败。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">ValueError</span><span class="p">:</span> <span class="n">I</span><span class="o">/</span><span class="n">O</span> <span class="n">operation</span> <span class="n">on</span> <span class="n">closed</span> <span class="nb">file</span>
</pre></div>


<h3 id="_3">文件对象方法</h3>
<p>本节中的示例都默认文件对象f已经创建。</p>
<p>要读取文件内容，需要调用f.read(size)，该方法读取数据并以字符串或字节对象形式返回，size 是可选的数值，指定字符串长度。如果没有指定size 或者指定为负数，就会读取并返回整个文件。当文件大小为当前机器内存两倍时，就会产生问题。反之，会尽可能按比较大size读取和返回数据。如果到了文件末尾，f.read()会返回一个空字符串 ('')。</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="s1">&#39;This is the entire file.</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>


<p>f.readline()从文件中读取单行，字符串结尾会自动加上换行符(\n) ，只有当文件最后一行没有以换行符结尾时，这一操作才会被忽略。这样返回值就不会有混淆，如果f.readline() 返回空字符串，那就表示到达了文件末尾，如果是空行，就会描述为 <code>'\n'</code></p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="s1">&#39;This is the first line of the file.</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="s1">&#39;Second line of the file</span><span class="se">\n</span><span class="s1">&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
<span class="s1">&#39;&#39;</span>
</pre></div>


<p>你可以循环遍历文件对象来读取文件中的每一行。这是一种内存高效、快速，并且代码简洁的方式:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
<span class="o">...</span>     <span class="k">print</span><span class="p">(</span><span class="n">line</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">This</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">first</span> <span class="n">line</span> <span class="n">of</span> <span class="n">the</span> <span class="nb">file</span><span class="o">.</span>
<span class="n">Second</span> <span class="n">line</span> <span class="n">of</span> <span class="n">the</span> <span class="nb">file</span>
<span class="s1">&#39;&#39;</span>
</pre></div>


<p>如果你想把文件中的所有行读到一个列表中，你也可以使用list(f)或者f.readlines()。</p>
<p>f.write(string)方法将string的内容写入文件，并返回写入字符的长度:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;This is a test</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="mi">15</span>
</pre></div>


<p>想要写入其他非字符串内容，首先要将它转换为字符串:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">value</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;the answer&#39;</span><span class="p">,</span> <span class="mi">42</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>  <span class="c1"># convert the tuple to string</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="mi">18</span>
</pre></div>


<p>f.tell() 返回一个整数，代表文件对象在文件中的指针位置，该数值计量了自文件开头到指针处的比特数。</p>
<p>需要改变文件对象指针话话，使用 f.seek(offset, from_what)。指针在该操作中从指定的引用位置移动offset比特，引用位置由 from_what参数指定。from_what 值为 0 表示自文件起始处开始，1 表示自当前文件指针位置开始，2 表示自文件末尾开始。from_what 可以忽略，其默认值为0，此时从文件头开始:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;workfile&#39;</span><span class="p">,</span> <span class="s1">&#39;rb+&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">b</span><span class="s1">&#39;0123456789abcdef&#39;</span><span class="p">)</span>
<span class="mi">16</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>      <span class="c1"># Go to the 6th byte in the file</span>
<span class="mi">5</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="sa">b</span><span class="s1">&#39;5&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">seek</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># Go to the 3rd byte before the end</span>
<span class="mi">13</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="sa">b</span><span class="s1">&#39;d&#39;</span>
</pre></div>


<p>在文本文件(没有以 <code>b</code> 模式打开），只允许从文件头开始寻找（有个例外是用seek(0, 2)跳到末尾处）而且合法的offset 值只能是 f.tell()返回的值或者是零。其它任何offset值都会产生不可预料的行为。</p>
<p>文件对象还有一些不太常用的附加方法，比如 isatty() 和 truncate() 在库参考手册中有文件对象的完整指南。</p>
<h3 id="json">使用 <a href="https://docs.python.org/3/library/json.html#module-json">json</a> 存储结构化数据</h3>
<p>从文件中读写字符串很容易。数值就要多费点儿周折，因为read()方法只会返回字符串，应将其传入 <a href="https://docs.python.org/3/library/functions.html#int">int()</a> 这样的函数，就可以将'123'这样的字符串转换为对应的数值 123。当你想要保存更为复杂的数据类型，例如嵌套的列表和字典，手工解析和序列化它们将变得更复杂。</p>
<p>Python 允许你使用常用的数据交换格式 <a href="http://json.org/">JSON（JavaScript Object Notation）</a>。标准模块 <a href="https://docs.python.org/3/library/json.html#module-json">json</a> 可以接受 Python 数据结构，并将它们转换为字符串表示形式；此过程称为序列化。从字符串表示形式重新构建数据结构称为反序列化。序列化和反序列化的过程中，表示该对象的字符串可以存储在文件或数据中，也可以通过网络连接传送给远程的机器。</p>
<p>注意：JSON 格式经常用于现代应用程序中进行数据交换。许多程序员都已经熟悉。</p>
<p>如果你有一个对象 <code>x</code>，你可以用简单的一行代码查看其 JSON 字符串表示形式:</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">json</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;simple&#39;</span><span class="p">,</span> <span class="s1">&#39;list&#39;</span><span class="p">])</span>
<span class="s1">&#39;[1, &quot;simple&quot;, &quot;list&quot;]&#39;</span>
</pre></div>


<p><a href="https://docs.python.org/3/library/json.html#json.dumps">dumps()</a> 函数的变种 <a href="https://docs.python.org/3/library/json.html#json.dump">dump()</a>，直接将对象序列化到文件对象</p>
<div class="highlight"><pre><span></span><span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</pre></div>


<p>解码对象，如果f是为读取而打开的 <a href="https://docs.python.org/3/glossary.html#term-file-object">文件对象</a>:</p>
<div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>


<p>这种简单的序列化技术可以处理列表和字典，但序列化任意类实例为 JSON 需要额外的努力。 <a href="https://docs.python.org/3/library/json.html#module-json">json</a> 模块的手册对此有详细的描述。</p>
<h3 id="_4">其他</h3>
<p><a href="https://docs.python.org/3/library/pickle.html#module-pickle">pickle</a> - pickle 模块</p>
<p>与 <a href="http://docs.pythontab.com/python/python3.5/inputoutput.html#tut-json">JSON</a> 不同，pickle 是协议，它允许任意复杂的 Python 对象的序列化。因此，它只能用于 Python 而不能用来与其他语言编写的应用程序进行通信。默认情况下它也是不安全的：如果数据由熟练的攻击者精心设计， 反序列化来自不受信任源的 pickle 数据可以执行任意代码。</p>
<h2 id="json_1">json格式转换实例</h2>
<p>现有 人脸标注的海量数据，部分参见：<a href="https://github.com/china-testing/python-api-tesing/tree/master/weeks/2018_06_06/data">data</a></p>
<p>要求输出：
1，files.txt </p>
<div class="highlight"><pre><span></span><span class="n">image_1515229323784</span><span class="o">.</span><span class="n">ir</span>
<span class="n">image_1515235832391</span><span class="o">.</span><span class="n">ir</span>
<span class="n">image_1515208991161</span><span class="o">.</span><span class="n">ir</span>
<span class="n">image_1515207265358</span><span class="o">.</span><span class="n">ir</span>
<span class="n">image_1521802748625</span><span class="o">.</span><span class="n">ir</span>
<span class="n">image_1515387191011</span><span class="o">.</span><span class="n">ir</span>
<span class="o">...</span>
</pre></div>


<p>2, 坐标信息 poses.txt 
文件名、left, top, right, buttom，width，height</p>
<div class="highlight"><pre><span></span><span class="n">image_1515229323784</span><span class="o">.</span><span class="n">ir</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">227</span><span class="p">,</span><span class="mi">234</span><span class="p">,</span><span class="mi">497</span><span class="p">,</span><span class="mi">230</span><span class="p">,</span><span class="mi">270</span>
<span class="n">image_1515235832391</span><span class="o">.</span><span class="n">ir</span><span class="p">,</span><span class="mi">154</span><span class="p">,</span><span class="mi">89</span><span class="p">,</span><span class="mi">302</span><span class="p">,</span><span class="mi">240</span><span class="p">,</span><span class="mi">148</span><span class="p">,</span><span class="mi">151</span>
<span class="n">image_1515208991161</span><span class="o">.</span><span class="n">ir</span><span class="p">,</span><span class="mi">76</span><span class="p">,</span><span class="mi">369</span><span class="p">,</span><span class="mi">309</span><span class="p">,</span><span class="mi">576</span><span class="p">,</span><span class="mi">233</span><span class="p">,</span><span class="mi">207</span>
<span class="n">image_1515207265358</span><span class="o">.</span><span class="n">ir</span><span class="p">,</span><span class="mi">44</span><span class="p">,</span><span class="mi">261</span><span class="p">,</span><span class="mi">340</span><span class="p">,</span><span class="mi">546</span><span class="p">,</span><span class="mi">296</span><span class="p">,</span><span class="mi">285</span>
<span class="o">...</span>
</pre></div>


<p>3，比对文件：</p>
<p>首先：# 后面的为序列号，从1开始递增
3 640 480 1及后面3行暂时视为固定。后面一行1 后面为4个坐标left, top, right, buttom。</p>
<div class="highlight"><pre><span></span><span class="c1"># 1</span>
<span class="n">image_1515229323784</span><span class="o">.</span><span class="n">ir</span>
<span class="mi">3</span> <span class="mi">640</span> <span class="mi">480</span> <span class="mi">1</span>
<span class="mi">0</span>
<span class="mi">1</span>
<span class="mi">1</span> <span class="mi">4</span> <span class="mi">227</span> <span class="mi">234</span> <span class="mi">497</span> 
<span class="c1"># 2</span>
<span class="n">image_1515235832391</span><span class="o">.</span><span class="n">ir</span>
<span class="mi">3</span> <span class="mi">640</span> <span class="mi">480</span> <span class="mi">1</span>
<span class="mi">0</span>
<span class="mi">1</span>
<span class="mi">1</span> <span class="mi">154</span> <span class="mi">89</span> <span class="mi">302</span> <span class="mi">240</span>
<span class="c1"># 3</span>
<span class="o">...</span>
</pre></div>


<p>参考代码：</p>
<div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># -*- coding: utf-8 -*-</span>

<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">pprint</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="kn">import</span> <span class="nn">data_common</span>

<span class="n">directory</span> <span class="o">=</span> <span class="s1">&#39;data&#39;</span>
<span class="n">files</span> <span class="o">=</span> <span class="n">data_common</span><span class="o">.</span><span class="n">find_files_by_type</span><span class="p">(</span><span class="n">directory</span><span class="p">,</span><span class="s1">&#39;json&#39;</span><span class="p">)</span>

<span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">file_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">poses</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">))</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;image&#39;</span><span class="p">][</span><span class="s1">&#39;rawFilename&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s1">&#39;.jpg&#39;</span><span class="p">)</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;objects&#39;</span><span class="p">][</span><span class="s1">&#39;face&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;position&#39;</span><span class="p">]</span>
    <span class="n">num</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;objects&#39;</span><span class="p">][</span><span class="s1">&#39;face&#39;</span><span class="p">])</span>
    <span class="k">if</span> <span class="n">num</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
        <span class="n">pprint</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;objects&#39;</span><span class="p">][</span><span class="s1">&#39;face&#39;</span><span class="p">])</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;# {}</span><span class="se">\n</span><span class="s2">{}</span><span class="se">\n</span><span class="s2">3 640 480 1</span><span class="se">\n</span><span class="s2">0</span><span class="se">\n</span><span class="s2">{}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">num</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">face</span> <span class="ow">in</span> <span class="n">d</span><span class="p">[</span><span class="s1">&#39;objects&#39;</span><span class="p">][</span><span class="s1">&#39;face&#39;</span><span class="p">]:</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="n">face</span><span class="p">[</span><span class="s1">&#39;position&#39;</span><span class="p">]</span>
        <span class="n">top</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="s1">&#39;top&#39;</span><span class="p">])</span>
        <span class="n">bottom</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="s1">&#39;bottom&#39;</span><span class="p">])</span>
        <span class="n">left</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="s1">&#39;left&#39;</span><span class="p">])</span>
        <span class="n">right</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">pos</span><span class="p">[</span><span class="s1">&#39;right&#39;</span><span class="p">])</span>
        <span class="n">out</span> <span class="o">=</span> <span class="n">out</span> <span class="o">+</span> <span class="s2">&quot;1 {} {} {} {}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">)</span>
        <span class="n">poses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;{},{},{},{},{},{},{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> 
            <span class="n">left</span><span class="p">,</span> <span class="n">top</span><span class="p">,</span> <span class="n">right</span><span class="p">,</span> <span class="n">bottom</span><span class="p">,</span> <span class="n">right</span> <span class="o">-</span> <span class="n">left</span><span class="p">,</span> <span class="n">bottom</span> <span class="o">-</span><span class="n">top</span><span class="p">))</span>
    <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
    <span class="c1">#print(out)</span>
    <span class="n">file_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
    <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">out</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">))</span>

<span class="n">data_common</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;files.txt&quot;</span><span class="p">,</span><span class="n">file_list</span><span class="p">)</span>
<span class="n">data_common</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;results.txt&quot;</span><span class="p">,</span><span class="n">results</span><span class="p">)</span>
<span class="n">data_common</span><span class="o">.</span><span class="n">output_file</span><span class="p">(</span><span class="s2">&quot;poses.txt&quot;</span><span class="p">,</span><span class="n">poses</span><span class="p">)</span>
</pre></div>


<p><a href="https://github.com/china-testing/python-api-tesing/tree/master/weeks/2018_06_06">详细代码地址</a></p>
<h2 id="_5">习题</h2>
<p>1，有关python文件读取，哪些描述是错误的。</p>
<p>A.f.read(-1)返回整个文件
B.with中打开的文件用完之后要调用close()。
C.如果到了文件末尾，f.read()会返回一个空字符串 ('')
D.f.readline()从文件中读取单行，字符串结尾会自动加上换行符(\r\n)</p>
<p>参考答案： B D</p>
<p>2, open()的模式哪些是错误的？</p>
<p>A. r  B. r+ C. d D.w+ E.a</p>
<p>参考答案： C D</p>
<h2 id="_6">参考资料</h2>
<ul>
<li>python测试等IT技术支持qq群： 144081101(后期会录制视频存在该群群文件) 591302926 567351477 钉钉免费群：21745728</li>
<li>道家技术-手相手诊看相中医等钉钉群21734177 qq群：391441566 184175668 338228106 看手相、面相、舌相、抽签、体质识别。服务费50元每人次起。请联系钉钉或者微信pythontesting</li>
<li><a href="https://china-testing.github.io/python3_crash_ch7.html">本文最新版本地址</a></li>
<li><a href="https://github.com/china-testing/python-api-tesing">本文涉及的python测试开发库</a> 谢谢点赞！</li>
<li><a href="https://github.com/china-testing/python-api-tesing/blob/master/books.md">本文相关海量书籍下载</a></li>
<li><a href="https://china-testing.github.io/testing_training.html">接口自动化性能测试线上培训大纲</a></li>
</ul>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://china-testing.github.io/testing_training.html">自动化性能接口测试线上及深圳培训与项目实战 qq群：144081101 591302926</a></li>
                            <li><a href="http://blog.sciencenet.cn/blog-2604609-1112306.html">pandas数据分析scrapy爬虫 521070358 Py人工智能pandas-opencv 6089740</a></li>
                            <li><a href="http://blog.sciencenet.cn/blog-2604609-1112306.html">中医解梦看相八字算命qq群 391441566 csdn书籍下载-python爬虫 437355848</a></li>
                        </ul>
                </div><!-- /.blogroll -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>