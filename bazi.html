<!DOCTYPE html>
<html lang="cn">
<head>
        <meta charset="utf-8" />
        <title>使用python排八字 计算八字的相合相冲五行分值等</title>
        <link rel="stylesheet" href="/theme/css/main.css" />
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">python自动化测试人工智能 </a></h1>
                <nav><ul>
                    <li><a href="/category/ba-zi.html">八字</a></li>
                    <li><a href="/category/ce-shi.html">测试</a></li>
                    <li><a href="/category/ce-shi-kuang-jia.html">测试框架</a></li>
                    <li><a href="/category/common.html">common</a></li>
                    <li><a href="/category/feng-shui.html">风水</a></li>
                    <li><a href="/category/ji-qi-xue-xi.html">机器学习</a></li>
                    <li><a href="/category/jie-meng.html">解梦</a></li>
                    <li><a href="/category/linux.html">linux</a></li>
                    <li class="active"><a href="/category/python.html">python</a></li>
                    <li><a href="/category/shu-ji.html">书籍</a></li>
                    <li><a href="/category/shu-ju-fen-xi.html">数据分析</a></li>
                    <li><a href="/category/zhong-cao-yao.html">中草药</a></li>
                    <li><a href="/category/zhong-yi.html">中医</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/bazi.html" rel="bookmark"
           title="Permalink to 使用python排八字 计算八字的相合相冲五行分值等">使用python排八字 计算八字的相合相冲五行分值等</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2019-03-01T07:20:00+08:00">
                Published: 五 01 三月 2019
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/andrew.html">andrew</a>
        </address>
<p>In <a href="/category/python.html">python</a>.</p>

</footer><!-- /.post-info -->      <ul>
<li><a href="https://china-testing.github.io/practices.html">python测试开发项目实战-目录</a></li>
<li><a href="https://china-testing.github.io/python_books.html">python工具书籍下载-持续更新</a></li>
</ul>
<h3 id="_1">简介</h3>
<p>八字术是一种古老的算命术。它运用阴阳、五行、干支、八卦等理论,把人的出生年月日时转化为八个字,进而推算人的富贵贫贱、祸福吉凶、穷通寿天、名利地位、家庭六亲等方面的情况</p>
<p>八字源自古代的中国，是一种利用天干和地支来准确记录年、月、日、时的方式，由“年干，年支”、“月干，月支”、“日干，日支”、“时干，时支”，共八个干支所组成（共八个字），年、月、日、时的干支组合称为“柱”，形成“年柱”、“月柱”、“日柱”、“时柱”，故八字又称为“四柱”或“四柱八字”。</p>
<p>这种以干支记录时间的方式从夏朝开始就已经开始使用，但直至宋朝的徐子平才将人们出生时的干支八字用来论断人事祸福，因此命理学中的八字命理又称“子平八字学”，以纪念徐子平对八字命理学的贡献。 </p>
<p>公历  2006年1月28日23:50
农历  丙戌年正月初一日子时
八字  乙酉年己丑月戊午日壬子时 </p>
<p>※八字以“立春”节气为新旧年的交界，丙戌年正月初七辰时（07:27）立春。</p>
<p>公历      2006年10月10日10:10
农历  丙戌年八月十九日巳时
八字  丙戌年戊戌月壬申日乙巳时</p>
<h3 id="_2">帮助</h3>
<div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="n">python</span> <span class="n">bazi</span><span class="o">.</span><span class="n">py</span> <span class="mi">1990</span> <span class="mi">2</span> <span class="mi">22</span>  <span class="mi">4</span> <span class="o">-</span><span class="n">g</span>

<span class="err">日期</span><span class="p">:</span>
<span class="o">======================================</span>
<span class="err">公历</span><span class="p">:</span>
        <span class="mi">1990</span><span class="err">年</span><span class="mi">2</span><span class="err">月</span><span class="mi">22</span><span class="err">日</span>
<span class="err">农历</span><span class="p">:</span>
        <span class="mi">1990</span><span class="err">年正月廿七日</span>

<span class="err">八字</span><span class="p">:</span>   <span class="err">同义词：七杀</span><span class="o">|</span><span class="err">偏官</span> <span class="err">偏印</span><span class="o">|</span><span class="err">枭神</span> <span class="err">解读：钉钉或微信</span><span class="n">pythontesting</span>
<span class="o">======================================================================================================================================================</span>
            <span class="err">年【父</span><span class="o">-</span><span class="err">根】</span>                      <span class="err">月【兄弟僚友</span><span class="o">-</span><span class="err">苗】</span>                     <span class="err">日【自己配偶</span><span class="o">-</span><span class="err">花】</span>                      <span class="err">时【子孙</span><span class="o">-</span><span class="err">实】</span>
<span class="o">------------------------------------------------------------------------------------------------------------------------------------------------------</span>
            <span class="err">庚</span><span class="o">--</span><span class="err">金</span> <span class="p">[</span><span class="err">食</span><span class="p">]</span>                       <span class="err">戊</span><span class="o">--</span><span class="err">土</span> <span class="p">[</span><span class="err">比肩</span><span class="p">]</span>                       <span class="err">戊</span><span class="o">--</span><span class="err">土</span> <span class="p">[</span><span class="err">自己</span><span class="p">]</span>                        <span class="err">甲</span><span class="o">--</span><span class="err">木</span> <span class="p">[</span><span class="err">杀</span><span class="p">]</span>
             <span class="err">午</span><span class="o">--</span><span class="err">帝旺</span>                           <span class="err">寅</span><span class="o">--</span><span class="err">长生</span>                           <span class="err">午</span><span class="o">--</span><span class="err">帝旺</span>                           <span class="err">寅</span><span class="o">--</span><span class="err">长生</span>
         <span class="err">己土</span><span class="mi">3</span><span class="err">劫</span> <span class="err">丁火</span><span class="mi">5</span><span class="err">印</span>                <span class="err">戊土</span><span class="mi">1</span><span class="err">比肩</span> <span class="err">丙火</span><span class="mi">2</span><span class="err">偏印</span> <span class="err">甲木</span><span class="mi">5</span><span class="err">杀</span>                 <span class="err">己土</span><span class="mi">3</span><span class="err">劫</span> <span class="err">丁火</span><span class="mi">5</span><span class="err">印</span>                <span class="err">戊土</span><span class="mi">1</span><span class="err">比肩</span> <span class="err">丙火</span><span class="mi">2</span><span class="err">偏印</span> <span class="err">甲木</span><span class="mi">5</span><span class="err">杀</span>


<span class="o">======================================================================================================================================================</span>
<span class="err">你属</span><span class="p">:</span> <span class="err">戊</span> <span class="err">特点：</span><span class="o">--</span> <span class="err">雾霞</span> <span class="err">山</span> <span class="err">禄巳</span> <span class="err">土虚则崩</span> <span class="err">四柱带水则为上格</span><span class="p">,</span><span class="err">霞水相辉而成文彩也</span><span class="p">;</span><span class="err">年月干见癸雨后霞现</span>

<span class="err">年份</span><span class="p">:</span> <span class="err">午</span> <span class="err">特点：</span><span class="o">--</span> <span class="err">烽堠</span> <span class="err">南</span> <span class="err">属火、土，其色赤黄</span> <span class="err">时利见辰，真龙出则凡马空矣，谓之马化龙驹。</span>

<span class="p">{</span><span class="s1">&#39;戊&#39;</span><span class="p">:</span> <span class="s1">&#39;比肩&#39;</span><span class="p">,</span> <span class="s1">&#39;己&#39;</span><span class="p">:</span> <span class="s1">&#39;劫&#39;</span><span class="p">,</span> <span class="s1">&#39;庚&#39;</span><span class="p">:</span> <span class="s1">&#39;食&#39;</span><span class="p">,</span> <span class="s1">&#39;辛&#39;</span><span class="p">:</span> <span class="s1">&#39;伤&#39;</span><span class="p">,</span> <span class="s1">&#39;壬&#39;</span><span class="p">:</span> <span class="s1">&#39;偏财&#39;</span><span class="p">,</span> <span class="s1">&#39;癸&#39;</span><span class="p">:</span> <span class="s1">&#39;财&#39;</span><span class="p">,</span> <span class="s1">&#39;甲&#39;</span><span class="p">:</span> <span class="s1">&#39;杀&#39;</span><span class="p">,</span> <span class="s1">&#39;乙&#39;</span><span class="p">:</span> <span class="s1">&#39;官&#39;</span><span class="p">,</span> <span class="s1">&#39;丙&#39;</span><span class="p">:</span> <span class="s1">&#39;偏印&#39;</span><span class="p">,</span> <span class="s1">&#39;丁&#39;</span><span class="p">:</span> <span class="s1">&#39;印&#39;</span><span class="p">,</span> <span class="s1">&#39;子&#39;</span><span class="p">:</span> <span class="s1">&#39;胎&#39;</span><span class="p">,</span> <span class="s1">&#39;丑&#39;</span><span class="p">:</span> <span class="s1">&#39;养&#39;</span><span class="p">,</span> <span class="s1">&#39;寅&#39;</span><span class="p">:</span> <span class="s1">&#39;长生&#39;</span><span class="p">,</span> <span class="s1">&#39;卯&#39;</span><span class="p">:</span> <span class="s1">&#39;沐浴&#39;</span><span class="p">,</span> <span class="s1">&#39;辰&#39;</span><span class="p">:</span> <span class="s1">&#39;冠带&#39;</span><span class="p">,</span> <span class="s1">&#39;巳&#39;</span><span class="p">:</span> <span class="s1">&#39;建&#39;</span><span class="p">,</span> <span class="s1">&#39;午&#39;</span><span class="p">:</span> <span class="s1">&#39;帝旺&#39;</span><span class="p">,</span> <span class="s1">&#39;未&#39;</span><span class="p">:</span> <span class="s1">&#39;衰&#39;</span><span class="p">,</span> <span class="s1">&#39;申&#39;</span><span class="p">:</span> <span class="s1">&#39;病&#39;</span><span class="p">,</span> <span class="s1">&#39;酉&#39;</span><span class="p">:</span> <span class="s1">&#39;死&#39;</span><span class="p">,</span> <span class="s1">&#39;戌&#39;</span><span class="p">:</span> <span class="s1">&#39;墓&#39;</span><span class="p">,</span> <span class="s1">&#39;亥&#39;</span><span class="p">:</span> <span class="s1">&#39;绝&#39;</span><span class="p">}</span>


<span class="err">十干冲</span><span class="p">:</span>
<span class="o">============================================================</span>
<span class="p">(</span><span class="s1">&#39;甲&#39;</span><span class="p">,</span> <span class="s1">&#39;庚&#39;</span><span class="p">)</span> <span class="err">相冲</span>

<span class="err">子女状态</span><span class="p">:</span> <span class="err">庚</span> <span class="err">绝</span>
<span class="o">=========================</span>

<span class="err">对象状态</span><span class="p">:</span> <span class="err">癸</span> <span class="err">沐浴</span>
<span class="o">=========================</span>

<span class="err">羊刃</span><span class="p">:</span> <span class="err">戊</span> <span class="err">午</span>
<span class="o">=========================</span>
<span class="err">羊刃重重又见禄，富贵饶金玉。</span> <span class="err">官、印相助福相资。</span>
<span class="err">专羊刃，主眼露性急，凶暴害物，亲近恶党，生旺稍可，死绝尤甚</span>
<span class="err">在五行败者逢之，多患瘰疠或瘴疠、金刃之灾，不论贵贱，多冗杂劳迫，少得安逸</span>
<span class="err">六甲生人逢乙卯、丁卯，为真羊刃。若重犯，主残疾，官禄失退则散在晚年</span>
<span class="err">运行羊刃，财物耗散</span>

<span class="err">有刃头财，如甲人见己卯之类，谓之销</span> <span class="err">煞</span> <span class="err">主财帛歇灭，常人以屠沽刀锯等事为业，或因被盗而致命者。</span>
<span class="err">有刃头鬼，如甲人见辛卯之类，谓之持刃煞，主人不令终，虽入贵格，亦不可测。甲乙人见之，尤紧。多脑疽发背而终。</span>
<span class="err">有羊刃相蚀，如甲寅虎、兔、甲戊狗兔之类</span><span class="p">()</span><span class="err">，见所蚀年月稍可，日时至危。若见两重，更值空亡，设非相蚀，亦犯流配至老，主不善终?</span>
<span class="err">有揽辔澄清格，谓贵人乘马而前视羊刃，犹马头带剑之义。</span>
<span class="o">=========================</span>


<span class="err">将星</span><span class="p">:</span> <span class="err">常欲吉星相扶，贵煞加临乃为吉庆。</span>
<span class="o">=========================</span>
<span class="err">理愚歌》云：将星若用亡神临，为国栋梁臣。言吉助之为贵，更夹贵库墓纯粹而</span>
    <span class="err">不杂者，出将入相之格也，带华盖、正印而不夹库，两府之格也；只带库墓而带正印，员郎</span>
    <span class="err">以上，既不带墓又不带正印，止有华盖，常调之禄也；带华印而正建驿马，名曰节印，主旌节</span>
    <span class="err">之贵；若岁干库同库为两重福，主大贵。</span>


<span class="err">五行分数</span>
<span class="o">============================================================</span>
<span class="p">{</span><span class="s1">&#39;金&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;木&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;水&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;火&#39;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;土&#39;</span><span class="p">:</span> <span class="mi">19</span><span class="p">}</span>


<span class="err">五行缺水的建议</span>
<span class="o">=========================</span>

    <span class="err">身体需要注意</span><span class="p">:</span> <span class="err">胫足、膀胱肾</span><span class="p">(</span><span class="err">比如结石</span><span class="p">)</span> <span class="err">多喝水</span>
    <span class="err">冬天或冷天气较走运</span>
    <span class="err">亥月、子月、猪年和鼠年运气较好</span>
    <span class="err">晚上九点至上午一点是吉时</span>
    <span class="err">北方较冷是吉方</span>
    <span class="err">住朝北的房子较吉利</span>
    <span class="err">睡房在房子的北方较好</span>
    <span class="err">睡房的北方有窗字较顺利</span>
    <span class="err">金属床或水床有利健康</span>
    <span class="err">办公桌朝北有助工作效率</span>
    <span class="err">吉祥颜色是黑色</span>
    <span class="err">室内装璜用黑色系统</span>
    <span class="err">穿衣用黑色系列，带珠宝也不错</span>
    <span class="err">开黑色车子较平安易发财</span>
    <span class="err">多喝水，注意肾脏系统</span>
    <span class="err">多做游泳、潜水、滑雪、钓鱼、溜冰等户外运动</span>
    <span class="err">和水有关的工作较容易。</span>
</pre></div>


<h3 id="_3">源码：</h3>
<p>依赖库：sxtwl bidict</p>
<div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="c1"># Author:  钉钉或微信pythontesting 技术支持qq群：630011153 144081101</span>
<span class="c1"># CreateDate: 2019-2-21</span>

<span class="c1"># -*- coding:utf-8 -*-</span>

<span class="kn">import</span>  <span class="nn">sxtwl</span>
<span class="kn">import</span> <span class="nn">argparse</span>
<span class="kn">import</span> <span class="nn">collections</span>
<span class="kn">import</span> <span class="nn">pprint</span>
<span class="kn">from</span> <span class="nn">bidict</span> <span class="kn">import</span> <span class="n">bidict</span>

<span class="kn">from</span> <span class="nn">datas</span> <span class="kn">import</span> <span class="o">*</span>

<span class="n">description</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>

<span class="s1">&#39;&#39;&#39;</span>

<span class="n">parser</span> <span class="o">=</span> <span class="n">argparse</span><span class="o">.</span><span class="n">ArgumentParser</span><span class="p">(</span><span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
                                 <span class="n">formatter_class</span><span class="o">=</span><span class="n">argparse</span><span class="o">.</span><span class="n">RawTextHelpFormatter</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;year&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sa">u</span><span class="s1">&#39;year&#39;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;month&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sa">u</span><span class="s1">&#39;month&#39;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;day&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sa">u</span><span class="s1">&#39;day&#39;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;time&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store&quot;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sa">u</span><span class="s1">&#39;time&#39;</span><span class="p">)</span>    
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-b&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sa">u</span><span class="s1">&#39;直接输入八字&#39;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-g&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sa">u</span><span class="s1">&#39;是否采用公历&#39;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-r&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sa">u</span><span class="s1">&#39;是否为闰月，仅仅使用于农历&#39;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;-n&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="sa">u</span><span class="s1">&#39;是否为女，默认为男&#39;</span><span class="p">)</span>
<span class="n">parser</span><span class="o">.</span><span class="n">add_argument</span><span class="p">(</span><span class="s1">&#39;--version&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;version&#39;</span><span class="p">,</span>
                    <span class="n">version</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%(prog)s</span><span class="s1"> 0.1 Rongzhong xu 2019 02 21&#39;</span><span class="p">)</span>
<span class="n">options</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_args</span><span class="p">()</span>

<span class="n">Gans</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">namedtuple</span><span class="p">(</span><span class="s2">&quot;Gans&quot;</span><span class="p">,</span> <span class="s2">&quot;year month day time&quot;</span><span class="p">)</span>
<span class="n">Zhis</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">namedtuple</span><span class="p">(</span><span class="s2">&quot;Zhis&quot;</span><span class="p">,</span> <span class="s2">&quot;year month day time&quot;</span><span class="p">)</span>

<span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">b</span><span class="p">:</span>
    <span class="n">gans</span> <span class="o">=</span> <span class="n">Gans</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">year</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">month</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">month</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> 
                <span class="n">day</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">day</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>  <span class="n">time</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">time</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">zhis</span> <span class="o">=</span> <span class="n">Gans</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">year</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">month</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">month</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> 
                <span class="n">day</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">day</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>  <span class="n">time</span><span class="o">=</span><span class="n">options</span><span class="o">.</span><span class="n">time</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="k">else</span><span class="p">:</span>

    <span class="n">lunar</span> <span class="o">=</span> <span class="n">sxtwl</span><span class="o">.</span><span class="n">Lunar</span><span class="p">();</span>
    <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">g</span><span class="p">:</span>
        <span class="n">day</span> <span class="o">=</span> <span class="n">lunar</span><span class="o">.</span><span class="n">getDayBySolar</span><span class="p">(</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">year</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">month</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">day</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">day</span> <span class="o">=</span> <span class="n">lunar</span><span class="o">.</span><span class="n">getDayByLunar</span><span class="p">(</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">year</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">month</span><span class="p">),</span> <span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">day</span><span class="p">),</span> <span class="n">options</span><span class="o">.</span><span class="n">r</span><span class="p">)</span>

    <span class="n">gz</span> <span class="o">=</span> <span class="n">lunar</span><span class="o">.</span><span class="n">getShiGz</span><span class="p">(</span><span class="n">day</span><span class="o">.</span><span class="n">Lday2</span><span class="o">.</span><span class="n">tg</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">options</span><span class="o">.</span><span class="n">time</span><span class="p">))</span>

    <span class="c1">#　计算甲干相合    </span>
    <span class="n">gans</span> <span class="o">=</span> <span class="n">Gans</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">Gan</span><span class="p">[</span><span class="n">day</span><span class="o">.</span><span class="n">Lyear2</span><span class="o">.</span><span class="n">tg</span><span class="p">],</span> <span class="n">month</span><span class="o">=</span><span class="n">Gan</span><span class="p">[</span><span class="n">day</span><span class="o">.</span><span class="n">Lmonth2</span><span class="o">.</span><span class="n">tg</span><span class="p">],</span> 
                <span class="n">day</span><span class="o">=</span><span class="n">Gan</span><span class="p">[</span><span class="n">day</span><span class="o">.</span><span class="n">Lday2</span><span class="o">.</span><span class="n">tg</span><span class="p">],</span> <span class="n">time</span><span class="o">=</span><span class="n">Gan</span><span class="p">[</span><span class="n">gz</span><span class="o">.</span><span class="n">tg</span><span class="p">])</span>
    <span class="n">zhis</span> <span class="o">=</span> <span class="n">Zhis</span><span class="p">(</span><span class="n">year</span><span class="o">=</span><span class="n">Zhi</span><span class="p">[</span><span class="n">day</span><span class="o">.</span><span class="n">Lyear2</span><span class="o">.</span><span class="n">dz</span><span class="p">],</span> <span class="n">month</span><span class="o">=</span><span class="n">Zhi</span><span class="p">[</span><span class="n">day</span><span class="o">.</span><span class="n">Lmonth2</span><span class="o">.</span><span class="n">dz</span><span class="p">],</span> 
                <span class="n">day</span><span class="o">=</span><span class="n">Zhi</span><span class="p">[</span><span class="n">day</span><span class="o">.</span><span class="n">Lday2</span><span class="o">.</span><span class="n">dz</span><span class="p">],</span> <span class="n">time</span><span class="o">=</span><span class="n">Zhi</span><span class="p">[</span><span class="n">gz</span><span class="o">.</span><span class="n">dz</span><span class="p">])</span>
<span class="n">me</span> <span class="o">=</span> <span class="n">gans</span><span class="o">.</span><span class="n">day</span>
<span class="n">zhus</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">gans</span><span class="p">,</span> <span class="n">zhis</span><span class="p">)]</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">options</span><span class="o">.</span><span class="n">b</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">日期:&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;======================================&quot;</span><span class="p">)</span>  
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;公历:&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">{}年{}月{}日&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">day</span><span class="o">.</span><span class="n">y</span><span class="p">,</span> <span class="n">day</span><span class="o">.</span><span class="n">m</span><span class="p">,</span> <span class="n">day</span><span class="o">.</span><span class="n">d</span><span class="p">))</span>

    <span class="n">Lleap</span> <span class="o">=</span> <span class="s2">&quot;闰&quot;</span> <span class="k">if</span> <span class="n">day</span><span class="o">.</span><span class="n">Lleap</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;农历:&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">{}年{}{}月{}日&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">day</span><span class="o">.</span><span class="n">Lyear0</span> <span class="o">+</span> <span class="mi">1984</span><span class="p">,</span> <span class="n">Lleap</span><span class="p">,</span> <span class="n">ymc</span><span class="p">[</span><span class="n">day</span><span class="o">.</span><span class="n">Lmc</span><span class="p">],</span> <span class="n">rmc</span><span class="p">[</span><span class="n">day</span><span class="o">.</span><span class="n">Ldi</span><span class="p">]))</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">八字:   同义词：七杀|偏官 偏印|枭神 解读：钉钉或微信pythontesting&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">150</span><span class="p">)</span>    
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;{:^30s}{:^30s}{:^30s}{:^30s}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;年【父-根】&#39;</span><span class="p">,</span> <span class="s2">&quot;月【兄弟僚友-苗】&quot;</span><span class="p">,</span> <span class="s2">&quot;日【自己配偶-花】&quot;</span><span class="p">,</span> <span class="s2">&quot;时【子孙-实】&quot;</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="o">*</span><span class="mi">150</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;{:^32s}{:^32s}{:^32s}{:^32s}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
    <span class="n">gans</span><span class="o">.</span><span class="n">year</span> <span class="o">+</span> <span class="s2">&quot;--&quot;</span> <span class="o">+</span> <span class="s1">&#39;{} [{}]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">gan5</span><span class="p">[</span><span class="n">gans</span><span class="o">.</span><span class="n">year</span><span class="p">],</span> <span class="n">ten_deities</span><span class="p">[</span><span class="n">me</span><span class="p">][</span><span class="n">gans</span><span class="o">.</span><span class="n">year</span><span class="p">]),</span>
    <span class="n">gans</span><span class="o">.</span><span class="n">month</span> <span class="o">+</span> <span class="s2">&quot;--&quot;</span> <span class="o">+</span> <span class="s1">&#39;{} [{}]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">gan5</span><span class="p">[</span><span class="n">gans</span><span class="o">.</span><span class="n">month</span><span class="p">],</span> <span class="n">ten_deities</span><span class="p">[</span><span class="n">me</span><span class="p">][</span><span class="n">gans</span><span class="o">.</span><span class="n">month</span><span class="p">]),</span>
    <span class="n">me</span> <span class="o">+</span> <span class="s2">&quot;--&quot;</span> <span class="o">+</span> <span class="s1">&#39;{} [{}]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">gan5</span><span class="p">[</span><span class="n">me</span><span class="p">],</span> <span class="s1">&#39;自己&#39;</span><span class="p">),</span> 
    <span class="n">gans</span><span class="o">.</span><span class="n">time</span> <span class="o">+</span> <span class="s2">&quot;--&quot;</span> <span class="o">+</span> <span class="s1">&#39;{} [{}]&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">gan5</span><span class="p">[</span><span class="n">gans</span><span class="o">.</span><span class="n">time</span><span class="p">],</span> <span class="n">ten_deities</span><span class="p">[</span><span class="n">me</span><span class="p">][</span><span class="n">gans</span><span class="o">.</span><span class="n">time</span><span class="p">]),</span>
<span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;{:^32s}{:^32s}{:^32s}{:^32s}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
    <span class="n">zhis</span><span class="o">.</span><span class="n">year</span> <span class="o">+</span> <span class="s2">&quot;--&quot;</span> <span class="o">+</span> <span class="n">ten_deities</span><span class="p">[</span><span class="n">me</span><span class="p">][</span><span class="n">zhis</span><span class="o">.</span><span class="n">year</span><span class="p">],</span>
    <span class="n">zhis</span><span class="o">.</span><span class="n">month</span> <span class="o">+</span> <span class="s2">&quot;--&quot;</span> <span class="o">+</span> <span class="n">ten_deities</span><span class="p">[</span><span class="n">me</span><span class="p">][</span><span class="n">zhis</span><span class="o">.</span><span class="n">month</span><span class="p">],</span>
    <span class="n">zhis</span><span class="o">.</span><span class="n">day</span> <span class="o">+</span> <span class="s2">&quot;--&quot;</span> <span class="o">+</span> <span class="n">ten_deities</span><span class="p">[</span><span class="n">me</span><span class="p">][</span><span class="n">zhis</span><span class="o">.</span><span class="n">day</span><span class="p">],</span>
    <span class="n">zhis</span><span class="o">.</span><span class="n">time</span> <span class="o">+</span> <span class="s2">&quot;--&quot;</span> <span class="o">+</span> <span class="n">ten_deities</span><span class="p">[</span><span class="n">me</span><span class="p">][</span><span class="n">zhis</span><span class="o">.</span><span class="n">time</span><span class="p">],</span>
<span class="p">))</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">zhis</span><span class="p">:</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">gan</span> <span class="ow">in</span> <span class="n">zhi5</span><span class="p">[</span><span class="n">item</span><span class="p">]:</span>
        <span class="n">out</span> <span class="o">=</span> <span class="n">out</span> <span class="o">+</span> <span class="s2">&quot;{}{}{}{} &quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">gan</span><span class="p">,</span> <span class="n">gan5</span><span class="p">[</span><span class="n">gan</span><span class="p">],</span> <span class="n">zhi5</span><span class="p">[</span><span class="n">item</span><span class="p">][</span><span class="n">gan</span><span class="p">],</span>  <span class="n">ten_deities</span><span class="p">[</span><span class="n">me</span><span class="p">][</span><span class="n">gan</span><span class="p">])</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;{:^28s}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">out</span><span class="p">),</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">150</span><span class="p">)</span>  
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;你属:&quot;</span><span class="p">,</span> <span class="n">me</span><span class="p">,</span> <span class="s2">&quot;特点：--&quot;</span><span class="p">,</span> <span class="n">gan_desc</span><span class="p">[</span><span class="n">me</span><span class="p">],</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;年份:&quot;</span><span class="p">,</span> <span class="n">zhis</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;特点：--&quot;</span><span class="p">,</span> <span class="n">zhi_desc</span><span class="p">[</span><span class="n">zhis</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="nb">dict</span><span class="p">(</span><span class="n">ten_deities</span><span class="p">[</span><span class="n">me</span><span class="p">]))</span>
<span class="c1">#print(ten_deities[me])</span>

<span class="k">def</span> <span class="nf">check_subset</span><span class="p">(</span><span class="n">gans</span><span class="p">,</span> <span class="n">db</span><span class="p">,</span> <span class="n">desc</span><span class="p">):</span>
    <span class="n">flag</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">db</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">set</span><span class="p">(</span><span class="n">item</span><span class="p">)</span><span class="o">.</span><span class="n">issubset</span><span class="p">(</span><span class="n">gans</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
                <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">{}:&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">desc</span><span class="p">))</span>
                <span class="k">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">60</span><span class="p">)</span>   
                <span class="n">flag</span> <span class="o">=</span> <span class="bp">False</span>
            <span class="k">print</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="n">db</span><span class="p">[</span><span class="n">item</span><span class="p">])</span>    

<span class="n">check_subset</span><span class="p">(</span><span class="n">gans</span><span class="p">,</span> <span class="n">gan_hes</span><span class="p">,</span> <span class="s1">&#39;十干合&#39;</span><span class="p">)</span>
<span class="n">check_subset</span><span class="p">(</span><span class="n">gans</span><span class="p">,</span> <span class="n">gan_chongs</span><span class="p">,</span> <span class="s1">&#39;十干冲&#39;</span><span class="p">)</span>
<span class="n">check_subset</span><span class="p">(</span><span class="n">zhis</span><span class="p">,</span> <span class="n">zhi_6hes</span><span class="p">,</span> <span class="s1">&#39;地支六合&#39;</span><span class="p">)</span>        
<span class="n">check_subset</span><span class="p">(</span><span class="n">zhis</span><span class="p">,</span> <span class="n">zhi_3hes</span><span class="p">,</span> <span class="s1">&#39;地支三合&#39;</span><span class="p">)</span>        
<span class="n">check_subset</span><span class="p">(</span><span class="n">zhis</span><span class="p">,</span> <span class="n">zhi_huis</span><span class="p">,</span> <span class="s1">&#39;地支三会&#39;</span><span class="p">)</span>    
<span class="n">check_subset</span><span class="p">(</span><span class="n">zhis</span><span class="p">,</span> <span class="n">zhi_chongs</span><span class="p">,</span> <span class="s1">&#39;地支相冲&#39;</span><span class="p">)</span>  
<span class="n">check_subset</span><span class="p">(</span><span class="n">zhis</span><span class="p">,</span> <span class="n">zhi_poes</span><span class="p">,</span> <span class="s1">&#39;地支相破&#39;</span><span class="p">)</span>    
<span class="n">check_subset</span><span class="p">(</span><span class="n">zhis</span><span class="p">,</span> <span class="n">zhi_haies</span><span class="p">,</span> <span class="s1">&#39;地支相害&#39;</span><span class="p">)</span>   
<span class="n">check_subset</span><span class="p">(</span><span class="n">zhis</span><span class="p">,</span> <span class="n">zhi_xings</span><span class="p">,</span> <span class="s1">&#39;地支相刑&#39;</span><span class="p">)</span>

<span class="c1"># 子女分析</span>
<span class="n">child</span> <span class="o">=</span> <span class="n">ten_deities</span><span class="p">[</span><span class="n">me</span><span class="p">]</span><span class="o">.</span><span class="n">inverse</span><span class="p">[</span><span class="s1">&#39;伤&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">n</span> <span class="k">else</span> <span class="n">ten_deities</span><span class="p">[</span><span class="n">me</span><span class="p">]</span><span class="o">.</span><span class="n">inverse</span><span class="p">[</span><span class="s1">&#39;食&#39;</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">子女状态:&quot;</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">ten_deities</span><span class="p">[</span><span class="n">child</span><span class="p">][</span><span class="n">zhis</span><span class="p">[</span><span class="mi">3</span><span class="p">]])</span>  
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;=========================&quot;</span><span class="p">)</span>  

<span class="c1"># 对象状态</span>
<span class="n">peer</span> <span class="o">=</span> <span class="n">ten_deities</span><span class="p">[</span><span class="n">me</span><span class="p">]</span><span class="o">.</span><span class="n">inverse</span><span class="p">[</span><span class="s1">&#39;官&#39;</span><span class="p">]</span> <span class="k">if</span> <span class="n">options</span><span class="o">.</span><span class="n">n</span> <span class="k">else</span> <span class="n">ten_deities</span><span class="p">[</span><span class="n">me</span><span class="p">]</span><span class="o">.</span><span class="n">inverse</span><span class="p">[</span><span class="s1">&#39;财&#39;</span><span class="p">]</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">对象状态:&quot;</span><span class="p">,</span> <span class="n">peer</span><span class="p">,</span> <span class="n">ten_deities</span><span class="p">[</span><span class="n">peer</span><span class="p">][</span><span class="n">zhis</span><span class="p">[</span><span class="mi">1</span><span class="p">]])</span>  
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;=========================&quot;</span><span class="p">)</span>  

<span class="c1"># 羊刃分析</span>
<span class="n">key</span> <span class="o">=</span> <span class="s1">&#39;帝旺&#39;</span> <span class="k">if</span> <span class="n">Gan</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">me</span><span class="p">)</span><span class="o">%</span><span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;冠带&#39;</span>

<span class="k">if</span> <span class="n">ten_deities</span><span class="p">[</span><span class="n">me</span><span class="p">]</span><span class="o">.</span><span class="n">inverse</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="ow">in</span> <span class="n">zhis</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">羊刃:&quot;</span><span class="p">,</span> <span class="n">me</span><span class="p">,</span> <span class="n">ten_deities</span><span class="p">[</span><span class="n">me</span><span class="p">]</span><span class="o">.</span><span class="n">inverse</span><span class="p">[</span><span class="n">key</span><span class="p">])</span>  
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;=========================&quot;</span><span class="p">)</span>   
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;羊刃重重又见禄，富贵饶金玉。 官、印相助福相资。&quot;</span><span class="p">)</span>  
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;专羊刃，主眼露性急，凶暴害物，亲近恶党，生旺稍可，死绝尤甚&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;在五行败者逢之，多患瘰疠或瘴疠、金刃之灾，不论贵贱，多冗杂劳迫，少得安逸&quot;</span><span class="p">)</span> 
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;六甲生人逢乙卯、丁卯，为真羊刃。若重犯，主残疾，官禄失退则散在晚年&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;运行羊刃，财物耗散&quot;</span><span class="p">)</span>    
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">有刃头财，如甲人见己卯之类，谓之销 煞 主财帛歇灭，常人以屠沽刀锯等事为业，或因被盗而致命者。&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;有刃头鬼，如甲人见辛卯之类，谓之持刃煞，主人不令终，虽入贵格，亦不可测。甲乙人见之，尤紧。多脑疽发背而终。&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;有羊刃相蚀，如甲寅虎、兔、甲戊狗兔之类()，见所蚀年月稍可，日时至危。若见两重，更值空亡，设非相蚀，亦犯流配至老，主不善终?&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;有揽辔澄清格，谓贵人乘马而前视羊刃，犹马头带剑之义。&quot;</span><span class="p">)</span>    
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;=========================&quot;</span><span class="p">)</span>      


<span class="c1"># 将星分析</span>
<span class="n">me_zhi</span> <span class="o">=</span> <span class="n">zhis</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="n">other_zhis</span> <span class="o">=</span> <span class="n">zhis</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="n">zhis</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
<span class="n">flag</span> <span class="o">=</span> <span class="bp">False</span>
<span class="k">if</span> <span class="n">me_zhi</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;申&quot;</span><span class="p">,</span> <span class="s2">&quot;子&quot;</span><span class="p">,</span> <span class="s2">&quot;辰&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="s2">&quot;子&quot;</span> <span class="ow">in</span> <span class="n">other_zhis</span><span class="p">:</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="bp">True</span>
<span class="k">elif</span> <span class="n">me_zhi</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;丑&quot;</span><span class="p">,</span> <span class="s2">&quot;巳&quot;</span><span class="p">,</span> <span class="s2">&quot;酉&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="s2">&quot;酉&quot;</span> <span class="ow">in</span> <span class="n">other_zhis</span><span class="p">:</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="bp">True</span>   
<span class="k">elif</span> <span class="n">me_zhi</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;寅&quot;</span><span class="p">,</span> <span class="s2">&quot;午&quot;</span><span class="p">,</span> <span class="s2">&quot;戌&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="s2">&quot;午&quot;</span> <span class="ow">in</span> <span class="n">other_zhis</span><span class="p">:</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="bp">True</span>     
<span class="k">elif</span> <span class="n">me_zhi</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;亥&quot;</span><span class="p">,</span> <span class="s2">&quot;卯&quot;</span><span class="p">,</span> <span class="s2">&quot;未&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="s2">&quot;卯&quot;</span> <span class="ow">in</span> <span class="n">other_zhis</span><span class="p">:</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="bp">True</span>   

<span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">将星: 常欲吉星相扶，贵煞加临乃为吉庆。&quot;</span><span class="p">)</span>  
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;=========================&quot;</span><span class="p">)</span>   
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;理愚歌》云：将星若用亡神临，为国栋梁臣。言吉助之为贵，更夹贵库墓纯粹而</span>
<span class="s1">    不杂者，出将入相之格也，带华盖、正印而不夹库，两府之格也；只带库墓而带正印，员郎</span>
<span class="s1">    以上，既不带墓又不带正印，止有华盖，常调之禄也；带华印而正建驿马，名曰节印，主旌节</span>
<span class="s1">    之贵；若岁干库同库为两重福，主大贵。&#39;&#39;&#39;</span><span class="p">)</span>

<span class="c1"># 华盖分析</span>
<span class="n">flag</span> <span class="o">=</span> <span class="bp">False</span>
<span class="k">if</span> <span class="n">me_zhi</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;申&quot;</span><span class="p">,</span> <span class="s2">&quot;子&quot;</span><span class="p">,</span> <span class="s2">&quot;辰&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="s2">&quot;辰&quot;</span> <span class="ow">in</span> <span class="n">other_zhis</span><span class="p">:</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="bp">True</span>
<span class="k">elif</span> <span class="n">me_zhi</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;丑&quot;</span><span class="p">,</span> <span class="s2">&quot;巳&quot;</span><span class="p">,</span> <span class="s2">&quot;酉&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="s2">&quot;丑&quot;</span> <span class="ow">in</span> <span class="n">other_zhis</span><span class="p">:</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="bp">True</span>   
<span class="k">elif</span> <span class="n">me_zhi</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;寅&quot;</span><span class="p">,</span> <span class="s2">&quot;午&quot;</span><span class="p">,</span> <span class="s2">&quot;戌&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="s2">&quot;戌&quot;</span> <span class="ow">in</span> <span class="n">other_zhis</span><span class="p">:</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="bp">True</span>     
<span class="k">elif</span> <span class="n">me_zhi</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;亥&quot;</span><span class="p">,</span> <span class="s2">&quot;卯&quot;</span><span class="p">,</span> <span class="s2">&quot;未&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="s2">&quot;未&quot;</span> <span class="ow">in</span> <span class="n">other_zhis</span><span class="p">:</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="bp">True</span>   

<span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">华盖: 多主孤寡，总贵亦不免孤独，作僧道艺术论。&quot;</span><span class="p">)</span>  
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;=========================&quot;</span><span class="p">)</span>   
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;《理愚歌》云：华盖虽吉亦有妨，或为孽子或孤孀。填房入赘多阙口，炉钳顶笠拔缁黄。</span>
<span class="s1">    又云：华盖星辰兄弟寡，天上孤高之宿也；生来若在时与胎，便是过房庶出者。&#39;&#39;&#39;</span><span class="p">)</span>    


<span class="c1"># 咸池 桃花</span>
<span class="n">flag</span> <span class="o">=</span> <span class="bp">False</span>
<span class="n">year_zhi</span> <span class="o">=</span> <span class="n">zhis</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="k">if</span> <span class="n">me_zhi</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;申&quot;</span><span class="p">,</span> <span class="s2">&quot;子&quot;</span><span class="p">,</span> <span class="s2">&quot;辰&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">year_zhi</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;申&quot;</span><span class="p">,</span> <span class="s2">&quot;子&quot;</span><span class="p">,</span> <span class="s2">&quot;辰&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="s2">&quot;酉&quot;</span> <span class="ow">in</span> <span class="n">zhis</span><span class="p">:</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="bp">True</span>
<span class="k">elif</span> <span class="n">me_zhi</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;丑&quot;</span><span class="p">,</span> <span class="s2">&quot;巳&quot;</span><span class="p">,</span> <span class="s2">&quot;酉&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">year_zhi</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;丑&quot;</span><span class="p">,</span> <span class="s2">&quot;巳&quot;</span><span class="p">,</span> <span class="s2">&quot;酉&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="s2">&quot;午&quot;</span> <span class="ow">in</span> <span class="n">other_zhis</span><span class="p">:</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="bp">True</span>   
<span class="k">elif</span> <span class="n">me_zhi</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;寅&quot;</span><span class="p">,</span> <span class="s2">&quot;午&quot;</span><span class="p">,</span> <span class="s2">&quot;戌&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">year_zhi</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;寅&quot;</span><span class="p">,</span> <span class="s2">&quot;午&quot;</span><span class="p">,</span> <span class="s2">&quot;戌&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="s2">&quot;卯&quot;</span> <span class="ow">in</span> <span class="n">other_zhis</span><span class="p">:</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="bp">True</span>     
<span class="k">elif</span> <span class="n">me_zhi</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;亥&quot;</span><span class="p">,</span> <span class="s2">&quot;卯&quot;</span><span class="p">,</span> <span class="s2">&quot;未&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">year_zhi</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;亥&quot;</span><span class="p">,</span> <span class="s2">&quot;卯&quot;</span><span class="p">,</span> <span class="s2">&quot;未&quot;</span><span class="p">):</span>
    <span class="k">if</span> <span class="s2">&quot;子&quot;</span> <span class="ow">in</span> <span class="n">other_zhis</span><span class="p">:</span>
        <span class="n">flag</span> <span class="o">=</span> <span class="bp">True</span>   

<span class="k">if</span> <span class="n">flag</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">咸池(桃花): 墙里桃花，煞在年月；墙外桃花，煞在日时；&quot;</span><span class="p">)</span>  
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;=========================&quot;</span><span class="p">)</span>   
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;一名败神，一名桃花煞，其神之奸邪淫鄙，如生旺则美容仪，耽酒色，疏财好欢，</span>
<span class="s1">    破散家业，唯务贪淫；如死绝，落魄不检，言行狡诈，游荡赌博，忘恩失信，私滥奸淫，</span>
<span class="s1">    靡所不为；与元辰并，更临生旺者，多得匪人为妻；与贵人建禄并，多因油盐酒货得生，</span>
<span class="s1">    或因妇人暗昧之财起家，平生有水厄、痨瘵之疾，累遭遗失暗昧之灾。此人入命，有破无成，</span>
<span class="s1">    非为吉兆，妇人尤忌之。</span>
<span class="s1">    咸池非吉煞，日时与水命遇之尤凶。&#39;&#39;&#39;</span><span class="p">)</span>    

<span class="c1"># 官分析</span>
<span class="n">guan_list</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">gans</span> <span class="o">+</span> <span class="n">zhis</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">guans</span><span class="p">[</span><span class="n">me</span><span class="p">]:</span>
        <span class="n">guan_list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
<span class="k">if</span> <span class="n">guan_list</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">正官:&quot;</span><span class="p">)</span>  
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;=========================&quot;</span><span class="p">)</span>   
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;财印两扶,柱中不见伤煞,行运引至官乡,大富大贵命也, 月令最佳&quot;</span><span class="p">)</span>  
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;大忌刑冲破害、伤官七煞、贪合忘官、劫财分福,为破格&quot;</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;=========================&quot;</span><span class="p">)</span>      
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;恭喜，有贵人相助！&quot;</span><span class="p">,</span> <span class="n">guan_list</span><span class="p">)</span>

    <span class="c1"># 检查天福贵人</span>
    <span class="k">if</span> <span class="n">lus</span><span class="p">[</span><span class="n">me</span><span class="p">]</span> <span class="ow">in</span> <span class="n">guan_list</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;天福贵人:主科名巍峨，官职尊崇，多掌丝纶文翰之美!&quot;</span><span class="p">)</span>

    <span class="c1"># 岁德正官</span>
    <span class="k">if</span> <span class="n">gans</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">guan_list</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;大岁德正官!&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">zhis</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="n">guan_list</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;小岁德正官!&quot;</span><span class="p">)</span>  
    <span class="c1"># 时上正官</span>
    <span class="k">if</span> <span class="n">gans</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="ow">in</span> <span class="n">guan_list</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;大时上正官!&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">zhis</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="ow">in</span> <span class="n">guan_list</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;小时上正官!&quot;</span><span class="p">)</span>          


<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">guan_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>    
    <span class="n">guan_chongs</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">gui</span> <span class="o">=</span> <span class="n">guan_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">gans</span> <span class="o">+</span> <span class="n">zhis</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">chongs</span><span class="p">[</span><span class="n">gui</span><span class="p">]:</span>
            <span class="n">guan_chongs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">guan_chongs</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;官冲&quot;</span><span class="p">,</span><span class="n">guan_list</span><span class="p">)</span>    

    <span class="n">guan_xings</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">l</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">zhis</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">gui</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
        <span class="n">l</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">gui</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">l</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">xings</span><span class="p">[</span><span class="n">gui</span><span class="p">]:</span>
            <span class="n">guan_xings</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">guan_xings</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;官刑&quot;</span><span class="p">,</span><span class="n">guan_xings</span><span class="p">)</span> 

<span class="k">if</span> <span class="n">zhus</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">in</span> <span class="n">tianyuans</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">天元坐禄:&quot;</span><span class="p">)</span>  
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;=========================&quot;</span><span class="p">)</span>   
    <span class="k">print</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="s1">    金若遇火，有重权，防御刺史臣（如庚午、庚寅、庚戌、辛巳、辛未等日）</span>
<span class="s1">    水若遇土，入官局，可沾侍郎禄（如壬午、壬戌、癸巳、癸丑、癸未等日）</span>
<span class="s1">    木若遇金，主伤衰化煞，为权势若雷（如甲申、甲戌、乙巳、乙酉、乙丑等日）</span>
<span class="s1">    火若遇水，主兵权，为将镇三边（如丙申、丙子、丙辰、丁亥、丁丑等日）</span>
<span class="s1">    土若遇木，为正禄八座三台福（如戊寅、戊辰、己卯、己未、己亥等日）</span>
<span class="s1">    此即白虎持世等格要，日主与官贵相停，偏枯则不成造化，大忌刑冲破害，伤损贵气，不成格矣。</span>
<span class="s1">    如庚午日，坐丁官，喜见甲乙财生官，戊己印生身；忌丙煞杂官，癸水伤官，子冲破午。余干例推。</span>
<span class="s1">    如果日柱的干支本身已构成官星，就不大忌讳冲破。</span>
<span class="s1">    &#39;&#39;&#39;</span><span class="p">)</span>  

    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;=========================&quot;</span><span class="p">)</span>       
    <span class="k">print</span><span class="p">(</span><span class="n">zhus</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>

<span class="c1"># 计算五行分数 http://www.131.com.tw/word/b3_2_14.htm</span>

<span class="n">scores</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;金&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;木&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;水&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;火&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;土&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">}</span>

<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">gans</span><span class="p">:</span>  
    <span class="n">scores</span><span class="p">[</span><span class="n">gan5</span><span class="p">[</span><span class="n">item</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">5</span>

<span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">zhis</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span><span class="n">zhis</span><span class="o">.</span><span class="n">month</span><span class="p">]:</span>  
    <span class="k">for</span> <span class="n">gan</span> <span class="ow">in</span> <span class="n">zhi5</span><span class="p">[</span><span class="n">item</span><span class="p">]:</span>
        <span class="n">scores</span><span class="p">[</span><span class="n">gan5</span><span class="p">[</span><span class="n">gan</span><span class="p">]]</span> <span class="o">+=</span> <span class="n">zhi5</span><span class="p">[</span><span class="n">item</span><span class="p">][</span><span class="n">gan</span><span class="p">]</span>

<span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">五行分数&quot;</span><span class="p">)</span> 
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;=&quot;</span><span class="o">*</span><span class="mi">60</span><span class="p">)</span>  
<span class="k">print</span><span class="p">(</span><span class="n">scores</span><span class="p">)</span>
<span class="n">short</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">scores</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">scores</span><span class="o">.</span><span class="n">get</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">五行缺{}的建议&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">short</span><span class="p">))</span>    
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;=========================&quot;</span><span class="p">)</span>    
<span class="k">print</span><span class="p">(</span><span class="s2">&quot;{}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">gan_health</span><span class="p">[</span><span class="n">short</span><span class="p">]))</span>
</pre></div>


<p>代码在更新中，参见：https://github.com/china-testing/python-api-tesing/tree/master/bazi</p>
<h3 id="_4">参考资料</h3>
<ul>
<li>工作日技术支持QQ群 630011153 144081101</li>
<li><a href="https://china-testing.github.io/bazi.html">本文最新版本地址</a></li>
<li><a href="https://github.com/china-testing/python-api-tesing">本文涉及的python测试开发库</a> 谢谢点赞！</li>
<li><a href="https://github.com/china-testing/python-api-tesing/blob/master/books.md">本文相关海量书籍下载</a></li>
<li>道家技术-手相手诊看相中医等钉钉群21734177 qq群：391441566 184175668 338228106 看八字、手相、面相、舌相、抽签、体质识别。服务费50元每人次起。请联系钉钉或者微信pythontesting</li>
<li><a href="https://china-testing.github.io/testing_training.html">接口自动化性能测试线上培训大纲</a></li>
</ul>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>links</h2>
                        <ul>
                            <li><a href="https://china-testing.github.io/testing_training.html">自动化性能接口测试线上及深圳培训与项目实战 qq群：144081101 591302926</a></li>
                            <li><a href="http://blog.sciencenet.cn/blog-2604609-1112306.html">pandas数据分析scrapy爬虫 521070358 Py人工智能pandas-opencv 6089740</a></li>
                            <li><a href="http://blog.sciencenet.cn/blog-2604609-1112306.html">中医解梦看相八字算命qq群 391441566 csdn书籍下载-python爬虫 437355848</a></li>
                        </ul>
                </div><!-- /.blogroll -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

</body>
</html>